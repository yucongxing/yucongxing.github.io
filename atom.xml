<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>yucongxing</title>
  
  
  <link href="https://yucongxing.github.io/atom.xml" rel="self"/>
  
  <link href="https://yucongxing.github.io/"/>
  <updated>2021-11-12T10:11:46.808Z</updated>
  <id>https://yucongxing.github.io/</id>
  
  <author>
    <name>yucongxing</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Classes</title>
    <link href="https://yucongxing.github.io/2021/11/12/cd504759.html"/>
    <id>https://yucongxing.github.io/2021/11/12/cd504759.html</id>
    <published>2021-11-12T10:07:02.000Z</published>
    <updated>2021-11-12T10:11:46.808Z</updated>
    
    <content type="html"><![CDATA[<p>类是C++语言最基本的特性。<br />类的两大基本特性：数据抽象和封装。</p><h1 id="构造函数"><a class="markdownIt-Anchor" href="#构造函数"></a> 构造函数</h1><h1 id="析构函数"><a class="markdownIt-Anchor" href="#析构函数"></a> 析构函数</h1><h1 id="友元"><a class="markdownIt-Anchor" href="#友元"></a> 友元</h1><h1 id="可变成员和静态成员"><a class="markdownIt-Anchor" href="#可变成员和静态成员"></a> 可变成员和静态成员</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;类是C++语言最基本的特性。&lt;br /&gt;
类的两大基本特性：数据抽象和封装。&lt;/p&gt;
&lt;h1 id=&quot;构造函数&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#构造函数&quot;&gt;&lt;/a&gt; 构造函数&lt;/h1&gt;
&lt;h1 id=&quot;析构函数&quot;&gt;&lt;a class=</summary>
      
    
    
    
    
    <category term="C++ Primer" scheme="https://yucongxing.github.io/tags/C-Primer/"/>
    
  </entry>
  
  <entry>
    <title>C++函数参数匹配</title>
    <link href="https://yucongxing.github.io/2021/11/08/62973a26.html"/>
    <id>https://yucongxing.github.io/2021/11/08/62973a26.html</id>
    <published>2021-11-08T12:27:14.000Z</published>
    <updated>2021-11-12T10:11:55.817Z</updated>
    
    <content type="html"><![CDATA[<h1 id="c-函数参数匹配"><a class="markdownIt-Anchor" href="#c-函数参数匹配"></a> C++ 函数参数匹配</h1><h2 id="单个参数匹配"><a class="markdownIt-Anchor" href="#单个参数匹配"></a> 单个参数匹配</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;                   <span class="comment">//f1</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span>)</span></span>;                <span class="comment">//f2</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;           <span class="comment">//f3</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">double</span>, <span class="keyword">double</span>=<span class="number">3.14</span>)</span></span>;<span class="comment">//f4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    f(<span class="number">5.6</span>);                 <span class="comment">//调用f4</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>candidate functions:函数名称相同(f1, f2, f3, f4 都是)。</p><p>viable functions:参数个数相同(排除f1, f3)，且参数可以转换成相同类型(f2, f4都是viable function)。如果不存在viable functions，则编译器报参数不匹配错误（可以通过linting检查）。</p><p>最后决定参数类型是否匹配，如果匹配优先调用，不能则选择可以隐式转换成类型相同的函数。</p><h2 id="多个参数匹配"><a class="markdownIt-Anchor" href="#多个参数匹配"></a> 多个参数匹配</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">()</span></span>;                   <span class="comment">//f1</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span>)</span></span>;                <span class="comment">//f2</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span>;           <span class="comment">//f3</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">double</span>, <span class="keyword">double</span>=<span class="number">3.14</span>)</span></span>;<span class="comment">//f4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    f(<span class="number">42</span>, <span class="number">5.6</span>);             <span class="comment">//报错，参数模糊</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>condidate functions: f1, f2, f3, f4</p><p>viable functions: f3, f4</p><p>优先级: 精确匹配的参数个数越多优先级越高，参数个数相同优先级相同，如果存在多个最高优先级的函数，则报参数模糊错误。</p><h2 id="参数类型转换"><a class="markdownIt-Anchor" href="#参数类型转换"></a> 参数类型转换</h2><p>优先级：</p><ol><li>精确匹配：包括类型相同， 数组和参数名转换为指针，忽略顶层const</li><li>const 转换 (把非const实参传给const形参)</li><li>promotion数据提升，如int-&gt;long, char-&gt;unsigned等</li><li>算术转换或者指针类型转换</li><li>类类型(class-type)转换，如string-&gt;bool</li></ol><h3 id="promotion-and-arithmetic-conversion"><a class="markdownIt-Anchor" href="#promotion-and-arithmetic-conversion"></a> Promotion and Arithmetic Conversion</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ff</span><span class="params">(<span class="keyword">int</span>)</span></span>;       <span class="comment">//f1</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ff</span><span class="params">(<span class="keyword">short</span>)</span></span>;     <span class="comment">//f2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">manip</span><span class="params">(<span class="keyword">long</span>)</span></span>;   <span class="comment">//f3</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">manip</span><span class="params">(<span class="keyword">float</span>)</span></span>;  <span class="comment">//f4</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ff(<span class="string">&#x27;a&#x27;</span>);        <span class="comment">//调用f1，char-&gt;int是promotionO（比int短的数据类型统一promotion为int），char-&gt;short 是算术转换</span></span><br><span class="line">    manip(<span class="number">3.14</span>);    <span class="comment">//error: ambiguous call，3.14视为double,double-&gt;float和doule-&gt;long在优先级上是等价的</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="const-arguments"><a class="markdownIt-Anchor" href="#const-arguments"></a> const Arguments</h3><p>忽略顶层const, 原因是传参的时候实际上进行的是copy过程，即copy一份实参给形参，copy会忽略顶层const</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> a)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> a)</span></span>;<span class="comment">//报错，重复定义，两者只能定义一种</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> *a)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span>* <span class="keyword">const</span> a)</span></span>;<span class="comment">//报错，重复定义，两者只能定义一种</span></span><br></pre></td></tr></table></figure><p>const 转换</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> &amp;)</span></span>;      <span class="comment">//f1</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> &amp;)</span></span>;<span class="comment">//f2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> a&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> b&#123;<span class="number">0</span>&#125;;</span><br><span class="line">    f(a);           <span class="comment">//调用f2(精确匹配)</span></span><br><span class="line">    f(b);           <span class="comment">//调用f1(没有定义f1时，调用f2)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>另外，</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> &amp;)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    f(i);           <span class="comment">//报错，ambiguous call</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;c-函数参数匹配&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#c-函数参数匹配&quot;&gt;&lt;/a&gt; C++ 函数参数匹配&lt;/h1&gt;
&lt;h2 id=&quot;单个参数匹配&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#单个参</summary>
      
    
    
    
    
    <category term="C++ Primer" scheme="https://yucongxing.github.io/tags/C-Primer/"/>
    
  </entry>
  
  <entry>
    <title>如何使用hexo发布一篇博客？</title>
    <link href="https://yucongxing.github.io/2021/10/17/7f722911.html"/>
    <id>https://yucongxing.github.io/2021/10/17/7f722911.html</id>
    <published>2021-10-17T07:04:15.000Z</published>
    <updated>2021-11-08T12:31:12.032Z</updated>
    
    <content type="html"><![CDATA[<h1 id="怎么发布一篇博客"><a class="markdownIt-Anchor" href="#怎么发布一篇博客"></a> 怎么发布一篇博客？</h1><ol><li><p>安装并部署<a href="https://hexo.io/" title="" target="">hexo</a></p></li><li><p>运行<code>hexo new &quot;blogtitle&quot;</code></p></li><li><p>找到hexo文件夹中的<code>source/_post/blogtitle.md</code>文件，并编写你的内容。</p></li><li><p>编写完成后，运行<code>hexo generate</code>把markdown文件渲染为静态网页文件，然后再运行<code>hexo server &quot;port number&quot;</code>，并登陆到<code>localhost:&quot;port number&quot;</code>进行预览。</p></li><li><p>最后运行<code>hexo deploy</code>把博客部署推送到服务器。</p></li></ol><p>以我的文件夹 <code>/var/www/hexo</code> 为例：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /var/www/hexo</span><br><span class="line"></span><br><span class="line">hexo new <span class="string">&quot;my first blog&quot;</span></span><br><span class="line"></span><br><span class="line">nvim ./<span class="built_in">source</span>/_post/my-first-blog.md</span><br><span class="line"></span><br><span class="line">hexo generate</span><br><span class="line"></span><br><span class="line">hexo server 4000 //<span class="keyword">if</span> you have a browser</span><br><span class="line"></span><br><span class="line">hexo deploy</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>详细文档见<a href="https://hexo.io/docs/" title="[hexo文档]" target="">hexo文档</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;怎么发布一篇博客&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#怎么发布一篇博客&quot;&gt;&lt;/a&gt; 怎么发布一篇博客？&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;安装并部署&lt;a href=&quot;https://hexo.io/&quot; title=&quot;&quot; ta</summary>
      
    
    
    
    
    <category term="hexo" scheme="https://yucongxing.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>计算机组成原理</title>
    <link href="https://yucongxing.github.io/2021/03/03/8d4b7ae1.html"/>
    <id>https://yucongxing.github.io/2021/03/03/8d4b7ae1.html</id>
    <published>2021-03-03T13:00:45.000Z</published>
    <updated>2021-11-09T16:06:51.873Z</updated>
    
    <content type="html"><![CDATA[<h1 id="计算机组成原理"><a class="markdownIt-Anchor" href="#计算机组成原理"></a> 计算机组成原理</h1><p>这门课讲什么： 计算机 + 组成 + 原理</p><ul><li>基本部件的结构和组织方式</li><li>基本运算的操作原理</li><li>基本部件和单元的设计思想</li></ul><p>特色</p><ul><li>计算机组成的一般原理，不以具体机型为依托</li><li>采用自顶向下的方式、层层细化</li></ul><img src="/2021/03/03/8d4b7ae1/image-20200322205053428.png" class="" title="参考教材"><h1 id="第一章-计算机系统概论"><a class="markdownIt-Anchor" href="#第一章-计算机系统概论"></a> 第一章 计算机系统概论</h1><h2 id="计算机系统简介"><a class="markdownIt-Anchor" href="#计算机系统简介"></a> 计算机系统简介</h2><ul><li><p>现代计算机的多态性</p><p>从传感器到大型服务器再到超级计算机</p><p>物联网就是一个巨大的计算机–&gt;智慧地球</p></li></ul><h3 id="一-计算机的软硬件概念"><a class="markdownIt-Anchor" href="#一-计算机的软硬件概念"></a> 一、计算机的软硬件概念</h3><ul><li><p>计算机系统：硬件、软件</p><ul><li><p>软件：系统软件、应用软件</p><ul><li>系统软件：语言处理程序、操作系统、服务性程序、数据库管理系统、网络软件</li><li>应用软件：按需求设计的一系列软件</li></ul></li></ul></li></ul><h3 id="二-计算机系统的层次结构"><a class="markdownIt-Anchor" href="#二-计算机系统的层次结构"></a> 二、计算机系统的层次结构</h3><ul><li>系统复杂性管理的方法-1<ul><li>抽象</li></ul></li></ul><img src="/2021/03/03/8d4b7ae1/image-20200322211322485.png" class="" title="计算机系统的层次结构"><img src="/2021/03/03/8d4b7ae1/image-20200322211606139.png" class="" title="硬件和软件的界限"><h3 id="三-计算机体系结构和计算机组成"><a class="markdownIt-Anchor" href="#三-计算机体系结构和计算机组成"></a> 三、 计算机体系结构和计算机组成</h3><ul><li>计算机体系结构 程序员缩减到的计算机系统的属性概念性的结构与功能特性（指令系统、数据类型、寻址技术、I/O机理）</li><li>计算机组成 实现计算机体系结构所体现的属性</li></ul><h2 id="计算机的基本组成"><a class="markdownIt-Anchor" href="#计算机的基本组成"></a> 计算机的基本组成</h2><h3 id="一-冯诺伊曼计算机的特点"><a class="markdownIt-Anchor" href="#一-冯诺伊曼计算机的特点"></a> 一、冯·诺伊曼计算机的特点</h3><ol><li>计算机有五大部件组成</li><li>指令和数据以同等地位存于存储器，可按地址寻访</li><li>指令和数据用二进制表示</li><li>指令由操作码和地址吗组成</li><li>存储程序（最重要的特点）</li><li>以运算器为中心</li></ol><img src="/2021/03/03/8d4b7ae1/image-20200322212805163.png" class="" title="冯·诺伊曼计算机结构示意图"><h3 id="二-计算机硬件框图"><a class="markdownIt-Anchor" href="#二-计算机硬件框图"></a> 二、计算机硬件框图</h3><ol><li>以存储器为中心的计算机硬件框图</li><li>现代计算机硬件框图</li></ol><img src="/2021/03/03/8d4b7ae1/image-20200322213318088.png" class="" title="现代计算机硬件框图"><ul><li>系统复杂性管理的方法-2<ul><li>层次化</li><li>模块化</li><li>规则性</li></ul></li></ul><p>存储器的基本组成：存储体、MAR、MDR</p><p>MAR：存储地址寄存器（反应存储单元的个数）</p><p>MDR：存储器数据寄存器（反映存储字长）</p><h2 id="计算机硬件的主要技术指标"><a class="markdownIt-Anchor" href="#计算机硬件的主要技术指标"></a> 计算机硬件的主要技术指标</h2><ol><li><p>机器字长：CPU一次能处理数据的位数，与CPU的寄存器位数有关，机器字长越长性能越好</p></li><li><p>运算速度：</p><ol><li><p>主频（没有直接的关系）</p></li><li><p>核数，每个核支持的线程数</p></li><li><p>吉普森法</p></li><li><p>CPI  执行一条指令所需时钟周期数</p></li><li><p>MIPS  每秒执行百万条指令</p></li><li><p>FLOPS 每秒浮点运算次数</p></li></ol></li><li><p>存储容量（存放二进制信息的总位数）：</p><ol><li>主存容量：<ol><li>存储单元个数 × 存储字长</li><li>字节数</li></ol></li><li>辅存容量：字节数</li></ol></li></ol><h1 id="第二章-计算机的发展及应用"><a class="markdownIt-Anchor" href="#第二章-计算机的发展及应用"></a> 第二章 计算机的发展及应用</h1><h2 id="计算机的发展史"><a class="markdownIt-Anchor" href="#计算机的发展史"></a> 计算机的发展史</h2><h1 id="第三章-系统总线"><a class="markdownIt-Anchor" href="#第三章-系统总线"></a> 第三章 系统总线</h1><h2 id="总线的基本概念"><a class="markdownIt-Anchor" href="#总线的基本概念"></a> 总线的基本概念</h2><ol><li>为什么要用总线</li><li>什么是总线：总线是连接各个部件的信息传输线，是各个部件共享的传输介质。</li><li>总线上信息传输的方式：并行和串行</li><li>总线结构的计算机举例<ol><li>单总线结构框图</li><li>面向CPU的双总线结构框图</li><li>以存储器为中心的双总线结构框图</li></ol></li></ol><h2 id="总线的分类"><a class="markdownIt-Anchor" href="#总线的分类"></a> 总线的分类</h2><ol><li><p>片内总线 <code>芯片内部</code>的总线</p></li><li><p>系统总线 <code>计算机各部件之间</code>的信息传输</p><ol><li><p>数据总线：<code>双向</code> 与机器字长、存储字长有关</p></li><li><p>地址总线：<code>单向</code> 与存储地址、I/O地址有关</p></li><li><p>控制总线 <code>有出 有入</code></p></li></ol></li><li><p>通信总线</p></li></ol><h2 id="总线特性及性能指标"><a class="markdownIt-Anchor" href="#总线特性及性能指标"></a> 总线特性及性能指标</h2><h3 id="一-总线物理实现"><a class="markdownIt-Anchor" href="#一-总线物理实现"></a> 一、总线物理实现</h3><h3 id="二-总线特性"><a class="markdownIt-Anchor" href="#二-总线特性"></a> 二、总线特性</h3><ol><li>机械特性：<code>尺寸</code>、形状、<code>管脚数</code>、<code>排序顺序</code></li><li>电器特性：<code>传输方向</code>和有效的<code>电平</code>范围</li><li>功能特性：每根传输线的<code>功能</code>：地址、数据、控制</li><li>时间特性：信号的<code>时序</code>关系</li></ol><h3 id="三-总线的性能指标"><a class="markdownIt-Anchor" href="#三-总线的性能指标"></a> 三、总线的性能指标</h3><ol><li>总线宽度：<code>数据线</code>的根数</li><li>标准传输率：每秒传输的最大字节数</li><li>时钟同步/异步：<code>同步</code>、<code>不同步</code></li><li>总线复用：<code>地址线</code>与<code>数据线</code>复用</li><li>信号线数：地址线、数据线和控制线的总和</li><li>总线控制方式：突发、自动、仲裁、逻辑、计数</li><li>其他指标：<code>负载能力</code></li></ol><h3 id="四-总线标准"><a class="markdownIt-Anchor" href="#四-总线标准"></a> 四、总线标准</h3><h2 id="总线结构"><a class="markdownIt-Anchor" href="#总线结构"></a> 总线结构</h2><h3 id="一-单总线结构"><a class="markdownIt-Anchor" href="#一-单总线结构"></a> 一、单总线结构</h3><h3 id="二-多总线结构"><a class="markdownIt-Anchor" href="#二-多总线结构"></a> 二、多总线结构</h3><ol><li>双总线结构：主存总线 I/O总线</li><li>三总线结构：<ol><li>主存总线 I/O总线 DMA总线</li><li>局部总线（CPU和cache） 系统总线（主存和cache） 扩展总线（系统总线和外设）</li></ol></li><li>四总线结构：局部总线（CPU和cache） 系统总线（主存和cache） 高速总线（桥和高速设备） 扩展总线（高速总线和外设）</li></ol><h3 id="三-总线结构举例"><a class="markdownIt-Anchor" href="#三-总线结构举例"></a> 三、总线结构举例</h3><ol><li>传统微型机总线结构</li><li>VL-BUS局部总线结构</li><li>PCI总线结构</li><li>多层PCI总线结构</li></ol><h2 id="总线控制"><a class="markdownIt-Anchor" href="#总线控制"></a> 总线控制</h2><h3 id="一-总线判优控制"><a class="markdownIt-Anchor" href="#一-总线判优控制"></a> 一、总线判优控制</h3><ol><li>基本概念<ol><li>主设备：对总线有控制权</li><li>从设备： 响应从主设备发来的总线命令</li><li>总线判优控制<ol><li>集中式：链式查询 计数器定时查询 独立请求方式</li><li>分布式</li></ol></li></ol></li><li>链式查询方式：特有BG线</li><li>计数器定时查询方式：特有设备线</li><li>独立请求方式：每个设备有独立的BR和BG</li></ol><h3 id="二-总线通信控制"><a class="markdownIt-Anchor" href="#二-总线通信控制"></a> 二、总线通信控制</h3><ol><li><p>目的 解决通信双方协调配合问题</p></li><li><p>总线传输周期：</p><ol><li><p>申请分配阶段：主模块申请，总线重在决定</p></li><li><p>寻址阶段：主模块向从模块给出地址和命令</p></li><li><p>传数阶段：主模块和从模块交换数据</p></li><li><p>结束阶段：主模块撤销有关消息</p></li></ol></li><li><p>总线通信的四种方式</p><ol><li>同步通信 由统一时标控制数据传送</li><li>异步通信 采用应答方式，没有公共时钟标准<ol><li>不互锁</li><li>半互锁</li><li>全互锁</li></ol></li><li>半同步通信 同步异步结合</li><li>分离式通信 充分挖掘系统总线每个瞬间的潜力<ol><li>各个模块有权申请占用总线</li><li>采用同步方式通信，不等对刚回答</li><li>各个模块准备数据是，不占用总线</li><li>总线被占用时，没有空闲时间</li></ol></li></ol></li></ol><h1 id="第四章-存储器"><a class="markdownIt-Anchor" href="#第四章-存储器"></a> 第四章 存储器</h1><h2 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h2><h3 id="一-存储器分类"><a class="markdownIt-Anchor" href="#一-存储器分类"></a> 一、存储器分类</h3><ol><li>按存储介质分类<ol><li>半导体存储器 TTL、MOS</li><li>磁表面存储器 磁头、磁载体 （非易失）</li><li>磁芯存储器 硬磁材料、环状元件 （非易失）</li><li>光盘存储器 激光、磁光材料 （非易失）</li></ol></li><li>按存取方式分类<ol><li>存取时间与物理地址无关（随机访问）<ol><li>随机存储器</li><li>只读存储器</li></ol></li><li>存期时间与物理地址有关（串行访问）<ol><li>顺序存取存储器 磁带</li><li>直接存取存储器 磁盘</li></ol></li></ol></li><li>按在计算机中的作用分类<ol><li>主存储器<ol><li>RAM<ol><li>静态RAM</li><li>动态RAM</li></ol></li><li>ROM<ol><li>MROM</li><li>PROM</li><li>EPROM</li><li>EEPROM</li></ol></li></ol></li><li>辅助存储器 磁盘、磁带、光盘</li><li>Flash Memory</li><li>Cache（高速缓冲存储器）</li></ol></li></ol><h3 id="二-存储器的层次结构"><a class="markdownIt-Anchor" href="#二-存储器的层次结构"></a> 二、存储器的层次结构</h3><ol><li>存储器三个主要特性的关系<ol><li>速度</li><li>容量</li><li>价格/位</li></ol></li><li>缓存-主存层次和主存-辅存层次</li></ol><h2 id="主存储器"><a class="markdownIt-Anchor" href="#主存储器"></a> 主存储器</h2><h3 id="一-概述"><a class="markdownIt-Anchor" href="#一-概述"></a> 一、概述</h3><ol><li>主存的基本组成</li><li>主存和CPU的联系<ol><li>数据总线</li><li>地址总线</li><li>控制主线 读、写</li></ol></li><li>主存中存储单元地址的分配</li><li>主存的技术指标<ol><li>存储容量</li><li>存储速度<ol><li>存取时间</li><li>存取周期</li></ol></li><li>存储器带宽</li></ol></li></ol><h3 id="二-半导体存储芯片简介"><a class="markdownIt-Anchor" href="#二-半导体存储芯片简介"></a> 二、半导体存储芯片简介</h3><ol><li><p>半导体存储芯片的基本结构 （片选线+读/写控制线）数据线+地址线+译码驱动+存储矩阵+读写电路</p></li><li><p>半导体存储芯片的译码驱动方式</p><ol><li>线选法</li><li>重合法</li></ol></li></ol><h3 id="三-随机存取存储器"><a class="markdownIt-Anchor" href="#三-随机存取存储器"></a> 三、随机存取存储器</h3><ol><li>静态RAM（SRAM）<ol><li>静态RAM基本单元电路</li><li>静态RAM芯片举例（Intel 2114）</li></ol></li><li>动态RAM（DRAM）<ol><li>动态RAM基本单元电路（读出与原存信息相反，写入与输入信息相同）</li><li>三管动态RAM芯片举例（Intel 1103）</li><li>单管RAM4116（16K×1位）外特性</li><li>动态RAM刷新（刷新只与行地址有关）<ol><li>集中刷新</li><li>分散刷新</li><li>异步刷新</li></ol></li></ol></li><li>动态RAM和静态RAM的比较</li></ol><table><thead><tr><th></th><th>DRAM</th><th>SRAM</th></tr></thead><tbody><tr><td>存储原理</td><td>电容</td><td>触发器</td></tr><tr><td>集成度</td><td>高</td><td>低</td></tr><tr><td>芯片引脚</td><td>少</td><td>多</td></tr><tr><td>功耗</td><td>小</td><td>大</td></tr><tr><td>价格</td><td>低</td><td>高</td></tr><tr><td>速度</td><td>慢</td><td>快</td></tr><tr><td>刷新</td><td>有</td><td>无</td></tr><tr><td>用途</td><td>主存</td><td>cache</td></tr></tbody></table><h3 id="四-只读存储器rom"><a class="markdownIt-Anchor" href="#四-只读存储器rom"></a> 四、只读存储器（ROM）</h3><ol><li>掩膜ROM（MROM）</li><li>PROM（一次性编程）</li><li>EPROM（多次性编程）（浮动栅MOS电路）</li><li>EEPROM（多次性编程） 电可擦写 局部擦写 全部擦写</li><li>Flash Memory（闪存）</li></ol><h3 id="五-存储器与cpu的连接"><a class="markdownIt-Anchor" href="#五-存储器与cpu的连接"></a> 五、存储器与CPU的连接</h3><ol><li><p>存储器容量的扩展</p><ol><li>位扩展（增加存储字长） 地址线连相同的信号，数据线分开连接</li><li>字扩展（增加存储字的数量）</li><li>字位扩展</li></ol></li><li><p>存储器与CPU的连接</p><ol><li>地址线的连接</li><li>数据线的连接</li><li>读/写命令线的连接</li><li>片选线的连接</li><li>合理选择存储芯片</li><li>其他 时序、负载…</li></ol></li></ol><h3 id="六-存储器的校验"><a class="markdownIt-Anchor" href="#六-存储器的校验"></a> 六、存储器的校验</h3><ol><li><p>编码的最小距离：任意两组合法代码之间二进制位数的最少差异</p><p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>L</mi><mo>−</mo><mn>1</mn><mo>=</mo><mi>D</mi><mo>+</mo><mi>C</mi><mo stretchy="false">(</mo><mi>D</mi><mo>≥</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L-1=D+C(D\geq{C})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span><span class="mclose">)</span></span></span></span></span></p><p>L:编码的最小距离</p><p>D:检测错误的位数</p><p>C:纠正错误的位数</p></li><li><p>汉明码的组成</p><ol><li>汉明码采用奇偶校验</li><li>汉明码采用分组校验</li><li>汉明码的分组式一种非划分方式（即各组之间有重叠）</li></ol></li><li><p>汉明码的纠错过程</p></li></ol><h3 id="七-提高访存速度的措施"><a class="markdownIt-Anchor" href="#七-提高访存速度的措施"></a> 七、提高访存速度的措施</h3><ol><li>单体多字系统（每次读取多个处理器字长的数据）</li><li>多体并行系统<ol><li>高位交叉 顺序编址</li><li>地位交叉 各个体轮流编址<ol><li>不改变存取周期的前提下，增加存储器的带宽</li></ol></li></ol></li><li>高性能存储芯片<ol><li>SDRAM（同步DRAM）</li><li>RDRAM</li><li>带cache的DRAM</li></ol></li></ol><h2 id="高速缓冲存储器"><a class="markdownIt-Anchor" href="#高速缓冲存储器"></a> 高速缓冲存储器</h2><h3 id="一-概述-2"><a class="markdownIt-Anchor" href="#一-概述-2"></a> 一、概述</h3><ol><li>问题的提出<ol><li>避免CPU&quot;空等&quot;现象</li><li>CPU和主存（DRAM）的速度差异</li><li>程序访问的局部性原理（时间局部性 空间局部性）</li></ol></li><li>Cache的工作原理<ol><li>主存和缓存的编址</li><li>命中和不命中</li><li>Cache的命中率（与Cache的容量、块长有关）<ol><li>一般可取4~8个字</li><li>块长去一个存取周期内从主存读取的数据长度</li></ol></li><li>Cache——主存系统的效率<ol><li>效率e与命中率有关</li></ol></li></ol></li><li>Cache的基本结构</li><li>Cache的读写操作<ol><li>读</li><li>写<ol><li>写直达法（Write-Through）（每次写操作都写回内存，增加了写操作的时间）</li><li>写回法（Write-back）（块替换时写回内存）</li></ol></li></ol></li><li>Cache的改进<ol><li>增加Cache的级数<ol><li>片内Cache</li><li>片外Cache</li></ol></li><li>统一缓存和分立缓存（指令和数据分开缓存）</li></ol></li></ol><h3 id="二-cache-主存的地址映射"><a class="markdownIt-Anchor" href="#二-cache-主存的地址映射"></a> 二、Cache-主存的地址映射</h3><ol><li>直接映射</li><li>全相联映射</li><li>组相联映射</li></ol><h3 id="三-替换算法"><a class="markdownIt-Anchor" href="#三-替换算法"></a> 三、替换算法</h3><ol><li>先进先出（FIFO）算法</li><li>近期最少使用（LRU）算法</li></ol><h2 id="辅助存储器"><a class="markdownIt-Anchor" href="#辅助存储器"></a> 辅助存储器</h2><h3 id="一-概述-3"><a class="markdownIt-Anchor" href="#一-概述-3"></a> 一、概述</h3><ol><li>特点 不直接与CPU交换信息</li><li>磁表面存储器的技术指标<ol><li>记录密度</li><li>存储容量</li><li>平均寻址时间</li><li>数据传输率</li><li>误码率</li></ol></li></ol><h3 id="二-磁记录原理和记录方式"><a class="markdownIt-Anchor" href="#二-磁记录原理和记录方式"></a> 二、磁记录原理和记录方式</h3><ol><li>磁记录原理</li></ol><h3 id="三-硬磁盘存储器"><a class="markdownIt-Anchor" href="#三-硬磁盘存储器"></a> 三、硬磁盘存储器</h3><ol><li>硬磁盘存储器的类型<ol><li>固定磁头和移动磁头</li><li>可换盘和固定盘</li></ol></li><li>硬磁盘存储器结构<ol><li>磁盘驱动器</li><li>磁盘控制器</li></ol></li><li>盘片</li></ol><h3 id="四-软磁盘存储器"><a class="markdownIt-Anchor" href="#四-软磁盘存储器"></a> 四、软磁盘存储器</h3><ol><li>概述</li></ol><h3 id="五-光盘存储器"><a class="markdownIt-Anchor" href="#五-光盘存储器"></a> 五、光盘存储器</h3><ol><li>概述 采用光存储技术 利用激光写入和读出</li><li>光盘的存储原理<ol><li>只读型和只写一次性</li><li>可擦写光盘</li></ol></li></ol><h1 id="第五章-输入输出系统"><a class="markdownIt-Anchor" href="#第五章-输入输出系统"></a> 第五章 输入输出系统</h1><h2 id="概述-2"><a class="markdownIt-Anchor" href="#概述-2"></a> 概述</h2><h3 id="一-输入输出系统的发展概况"><a class="markdownIt-Anchor" href="#一-输入输出系统的发展概况"></a> 一、输入输出系统的发展概况</h3><ol><li>早期<ol><li>分散连接</li><li>CPU和IO设备串行工作 程序查询方式</li></ol></li><li>接口模块和DMA阶段<ol><li>总线连接</li><li>CPU和IO设备 并行工作<ol><li>中断方式</li><li>DMA方式</li></ol></li></ol></li><li>具有通道结构的阶段</li><li>具有IO处理机的阶段</li></ol><h3 id="二-输入输出系统的组成"><a class="markdownIt-Anchor" href="#二-输入输出系统的组成"></a> 二、输入输出系统的组成</h3><ol><li>I/O软件<ol><li>I/O指令 CPU指令的一部分</li><li>通道指令 通道自身的指令</li></ol></li><li>I/O硬件</li></ol><h3 id="三-io设备与主机的联系方式"><a class="markdownIt-Anchor" href="#三-io设备与主机的联系方式"></a> 三、I/O设备与主机的联系方式</h3><ol><li>I/O设备编址方式<ol><li>统一编址 用取数、存数指令</li><li>不统一编址 有专门的I/O指令</li></ol></li><li>设备选址<ol><li>用设备选择电路识别是否被选中</li></ol></li><li>传送方式<ol><li>串行</li><li>并行</li></ol></li><li>联络方式<ol><li>立即响应</li><li>异步工作采用应答信号</li><li>同步工作采用同步时标</li></ol></li><li>I/O设备与主机的连接方式<ol><li>辐射式连接（分散连接）</li><li>总线连接 便于增删设备</li></ol></li></ol><h3 id="四-io设备与主机信息传送的控制方式"><a class="markdownIt-Anchor" href="#四-io设备与主机信息传送的控制方式"></a> 四、I/O设备与主机信息传送的控制方式</h3><ol><li>程序查询方式</li><li>程序中断方式</li><li>DMA方式<ol><li>主存和I/O之间有一条直接数据通道</li><li>不中断现行程序</li><li>周期挪用</li></ol></li><li>三种方式的CPU工作效率比较：从上到下I/O系统的自治能力越来越强</li></ol><h2 id="外部设备"><a class="markdownIt-Anchor" href="#外部设备"></a> 外部设备</h2><h3 id="一-概述-4"><a class="markdownIt-Anchor" href="#一-概述-4"></a> 一、概述</h3><p>外部设备大致分三类</p><ol><li>人机交互设备  键盘、鼠标、打印机、显示器</li><li>计算机信息存储设备  磁盘、光盘、磁带</li><li>机—机通信设备  调制解调器</li></ol><h3 id="二-输入设备"><a class="markdownIt-Anchor" href="#二-输入设备"></a> 二、输入设备</h3><ol><li>键盘<ol><li>按键</li><li>判断哪个键按下</li><li>将此键翻译成ASCII码</li></ol></li><li>鼠标<ol><li>机械式</li><li>光电式</li></ol></li><li>触摸屏</li></ol><h3 id="三-输出设备"><a class="markdownIt-Anchor" href="#三-输出设备"></a> 三、输出设备</h3><ol><li>显示器<ol><li>字符显示  字符发生器</li><li>图形显示  主观图像</li><li>图像显示  客观图像</li></ol></li><li>打印机<ol><li>打击式  点阵式（逐字、逐行）</li><li>非打字机  激光（逐页）、喷墨</li></ol></li></ol><h3 id="四-其他"><a class="markdownIt-Anchor" href="#四-其他"></a> 四、其他</h3><ol><li>A/D、D/A 模拟/数字（数字/模拟）转换器</li><li>终端 由键盘和显示器组成</li><li>汉字处理  汉字输入、汉字存储、汉字输出</li></ol><h3 id="五-多媒体技术"><a class="markdownIt-Anchor" href="#五-多媒体技术"></a> 五、多媒体技术</h3><ol><li>什么时多媒体</li><li>多媒体计算机的关键技术（数据压缩、编码技术、语音图像识别）</li></ol><h2 id="io接口"><a class="markdownIt-Anchor" href="#io接口"></a> I/O接口</h2><h3 id="一-概述-5"><a class="markdownIt-Anchor" href="#一-概述-5"></a> 一、概述</h3><p>为什么要设置接口？</p><ol><li>实现设备的选择</li><li>实现数据缓冲达到速度匹配</li><li>实现数据串—并格式转换</li><li>实现电平转黄</li><li>传送控制命令</li><li>反应设备的状态（“忙”、“就绪”、“中断请求”）</li></ol><h3 id="二-接口的功能和组成"><a class="markdownIt-Anchor" href="#二-接口的功能和组成"></a> 二、接口的功能和组成</h3><ol><li>总线连接方式的I/O接口电路<ol><li>设备选择线</li><li>数据线</li><li>命令线</li><li>状态线</li></ol></li><li>接口的功能和组成</li></ol><table><thead><tr><th>功能</th><th>组成</th></tr></thead><tbody><tr><td>选址功能</td><td>设备选择电路</td></tr><tr><td>传送命令的功能</td><td>命令寄存器、命令译码器</td></tr><tr><td>传送数据的功能</td><td>数据缓冲寄存器</td></tr><tr><td>反应设备状态的功能</td><td>设备状态标记</td></tr></tbody></table><ol start="3"><li>I/O接口的基本组成</li></ol><h3 id="三-接口类型"><a class="markdownIt-Anchor" href="#三-接口类型"></a> 三、接口类型</h3><ol><li>按数据传送方式<ol><li>并行接口</li><li>串行接口</li></ol></li><li>按功能选择的灵活性分类<ol><li>可编程接口</li><li>不可编程接口</li></ol></li><li>按通用性分类<ol><li>通用接口</li><li>专用接口</li></ol></li><li>按数据传送的控制方式分类<ol><li>中断方式接口</li><li>DMA方式接口</li></ol></li></ol><h2 id="程序查询方式"><a class="markdownIt-Anchor" href="#程序查询方式"></a> 程序查询方式</h2><h3 id="一-程序查询流程"><a class="markdownIt-Anchor" href="#一-程序查询流程"></a> 一、程序查询流程</h3><ol><li>查询流程<ol><li>单个设备</li><li>多个设备：按优先级逐级查询</li></ol></li><li>程序流程</li></ol><h3 id="二-程序查询方式的接口电路"><a class="markdownIt-Anchor" href="#二-程序查询方式的接口电路"></a> 二、程序查询方式的接口电路</h3><h2 id="程序中断方式"><a class="markdownIt-Anchor" href="#程序中断方式"></a> 程序中断方式</h2><h3 id="一-中断的概念"><a class="markdownIt-Anchor" href="#一-中断的概念"></a> 一、中断的概念</h3><h3 id="二-io中断的产生"><a class="markdownIt-Anchor" href="#二-io中断的产生"></a> 二、I/O中断的产生</h3><h3 id="三-程序中断方式的接口电路"><a class="markdownIt-Anchor" href="#三-程序中断方式的接口电路"></a> 三、程序中断方式的接口电路</h3><ol><li>配置中断请求触发器和中断屏蔽触发器</li><li>排队器<ol><li>硬件实现  在CPU内或在接口电路中（链式排队器）</li><li>软件实现</li></ol></li><li>中断向量地址形成部件<ol><li>入口地址<ol><li>由软件产生  详见第八章</li><li>硬件向量法 由硬件产生向量地址，再由向量地址找到入口地址</li></ol></li></ol></li><li>程序中断方式接口电路的基本组成</li></ol><h3 id="四-io中断处理过程"><a class="markdownIt-Anchor" href="#四-io中断处理过程"></a> 四、I/O中断处理过程</h3><ol><li>CPU响应中断的条件和时间<ol><li>条件<ol><li>允许中断触发器<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>I</mi><mi>N</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">EINT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span>=1</li></ol></li><li>时间<ol><li>当<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">D=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>（随机）且<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>s</mi><mi>k</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">mask=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">a</span><span class="mord mathnormal">s</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>时</li><li>在每条指令执行阶段的结束前</li><li>CPU发中断查询信号（将INTR置“1”）</li></ol></li></ol></li><li>I/O中断处理过程</li></ol><h3 id="五-中断服务程序流程"><a class="markdownIt-Anchor" href="#五-中断服务程序流程"></a> 五、中断服务程序流程</h3><ol><li>中断服务程序的流程<ol><li>保护现场<ol><li>程序断点的保护 中断隐指令完成</li><li>寄存器内容的保护 进栈指令</li></ol></li><li>中断服务 对不同的I/O设备具有不同内容的设备服务</li><li>恢复现场 出栈指令</li><li>中断返回 中断返回指令</li></ol></li><li>单重中断和多重中断<ol><li>单重中断 ==不允许中断==现行的中断服务程序</li><li>多重中断 ==允许级别更高==的中断源中断现行的<strong>中断服务程序</strong></li></ol></li><li>单重中断和多重中断的服务程序流程</li><li>主程序和服务程序抢占CPU示意图</li></ol><h2 id="dma方式"><a class="markdownIt-Anchor" href="#dma方式"></a> DMA方式</h2><h3 id="一-dma方式的特点"><a class="markdownIt-Anchor" href="#一-dma方式的特点"></a> 一、DMA方式的特点</h3><ol><li><p>DMA和程序中断两种方式的数据通路</p></li><li><p>DMA与主存交换数据的三种方式</p><ol><li><p>停止CPU访问主存</p><ol><li>控制简单</li><li>CPU处于不工作状态或保持状态</li><li>未充分发挥CPU对主存的利用率</li></ol></li><li><p>周期挪用（周期窃取）</p><p>DMA访问主存有三种可能</p><ul><li>CPU此时不访问主存</li><li>CPU正在访问主存</li><li>CPU与DMA同时请求访问主存：此时CPU将总线控制权让给DMA</li></ul></li><li><p>DMA与CPU交替访问</p><p>CPU工作周期</p><ul><li>C1专供DMA访存</li><li>C2专供CPU访存</li></ul></li></ol></li></ol><h3 id="二-dma接口的功能和组成"><a class="markdownIt-Anchor" href="#二-dma接口的功能和组成"></a> 二、DMA接口的功能和组成</h3><ol><li>DMA接口功能<ol><li>向CPU申请DMA传送</li><li>处理总线控制权的转交</li><li>管理系统总线、控制数据传送</li><li>确定数据传送的首地址和长度 修正传送过程中的数据地址和长度</li><li>DMA传送结束时，给出操作完成信号</li></ol></li><li>DMA接口组成</li></ol><h3 id="三-dma的工作过程"><a class="markdownIt-Anchor" href="#三-dma的工作过程"></a> 三、DMA的工作过程</h3><ol><li><p>DMA传送过程</p><p>预处理、数据传送、后处理</p><ol><li>预处理<ol><li>通知DMA控制逻辑传送方向</li><li>设备地址–&gt;DMA的DAR</li><li>主存地址–&gt;DMA的AR</li><li>传送字数–&gt;DMA的WC</li></ol></li><li>DMA传送过程示意</li><li>数据传送过程（输入主存）</li><li>数据传送过程（输出主存）</li><li>后处理  由中断服务程序完成<ol><li>校验送入主存的数是否正确</li><li>是否继续用DMA</li><li>测试传送过程是否正确，错则转诊断程序</li></ol></li></ol></li><li><p>DMA接口与系统的连接方式</p><ol><li>具有公共请求线的DMA请求</li><li>独立的DMA请求</li></ol></li><li><p>DMA方式与程序中断方式的比较</p><table><thead><tr><th></th><th>中断方式</th><th>DMA方式</th></tr></thead><tbody><tr><td>数据传送</td><td>程序</td><td>硬件</td></tr><tr><td>响应时间</td><td>指令执行结束</td><td>存取周期结束</td></tr><tr><td>处理异常情况</td><td>能</td><td>不能</td></tr><tr><td>中断请求</td><td>传送数据</td><td>后处理</td></tr><tr><td>优先级</td><td>低</td><td>高</td></tr></tbody></table></li></ol><h3 id="四-dma接口的类型"><a class="markdownIt-Anchor" href="#四-dma接口的类型"></a> 四、DMA接口的类型</h3><ol><li>选择型 在物理上连接多个设备，在逻辑上只允许连接一个设备</li><li>多路型 在屋里上连接多个设备，在逻辑上允许连接多个设备同时工作（但是与主存交换数据只能一个）</li><li>多路型DMA接口的工作原理</li></ol><h1 id="第六章-计算机的运算方法"><a class="markdownIt-Anchor" href="#第六章-计算机的运算方法"></a> 第六章 计算机的运算方法</h1><h2 id="无符号数和有符号数"><a class="markdownIt-Anchor" href="#无符号数和有符号数"></a> 无符号数和有符号数</h2><h3 id="一-无符号数"><a class="markdownIt-Anchor" href="#一-无符号数"></a> 一、无符号数</h3><p>寄存器的位数反应无符号数的范围</p><h3 id="二-有符号数"><a class="markdownIt-Anchor" href="#二-有符号数"></a> 二、有符号数</h3><ol><li><p>机器数与真值</p><ol><li>真值：带符号的数            <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>0.1011</mn></mrow><annotation encoding="application/x-tex">+0.1011</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span></span></span></span> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>0.1011</mn></mrow><annotation encoding="application/x-tex">-0.1011</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span></span></span></span> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>+</mo><mn>1100</mn></mrow><annotation encoding="application/x-tex">+1100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">+</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span>     <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>−</mo><mn>1100</mn></mrow><annotation encoding="application/x-tex">-1100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span></li><li>机器数 符号数字化的数     <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>01011</mn></mrow><annotation encoding="application/x-tex">01011</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span></span></span></span>    <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11011</mn></mrow><annotation encoding="application/x-tex">11011</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span></span></span></span>   <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>01100</mn></mrow><annotation encoding="application/x-tex">01100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span>     <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>11100</mn></mrow><annotation encoding="application/x-tex">11100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">1</span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span></span></span></span></li></ol></li><li><p>原码表示法</p><ol><li>定义<ol><li>整数真值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>  <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>原</mtext></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>≥</mo><mi>x</mi><mo>&gt;</mo><mo>−</mo><msup><mn>2</mn><mi>n</mi></msup></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">[x]_{原}=\left\{ \begin{array} {cc}0,x &amp; 2^n &gt; x \geq 0 \\  2^n - x &amp; 0 \geq x &gt; -2^n\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">原</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li><li>小数真值为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>原</mtext></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>−</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>≥</mo><mi>x</mi><mo>&gt;</mo><mo>−</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">[x]_原=\left\{ \begin{array}{cc} x &amp; 1&gt; x \geq 0 \\ 1-x &amp; 0 \geq x &gt;-1 \end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">原</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></li></ol></li></ol><p>原码的特点：简单、直观</p><p>但是运算困难</p></li><li><p>补码表示法</p><ol><li><p>补的概念</p><ol><li>一个负数加上==“模”==即的该负数的补数</li><li>一个整数和一个负数互为补数时，它们绝对值之和即为==模==数</li></ol></li><li><p>整数的补数即为其本身</p></li><li></li><li><p>补码定义</p><ol><li><p>整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>为真值   <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>为整数的位数</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>+</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mo>−</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">(</mo><mspace></mspace><mspace width="0.6666666666666666em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">[x]_补=\left\{ \begin{array}{cl} 0,x &amp; 2^n &gt; x \geq 0 \\ 2^{n+1} + x &amp; 0 &gt; x \geq -2^n(\mod 2^{n+1})\end{array} \right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li><li><p>小数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>为真值</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mo>+</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mo>−</mo><mn>1</mn><mo stretchy="false">(</mo><mspace></mspace><mspace width="0.6666666666666666em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">[x]_补=\left \{ \begin{array}{cl} x &amp; 1 &gt; x \geq 0 \\ 2+x &amp; 0&gt; x \geq -1(\mod 2)\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mopen">(</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li></ol></li><li><p>求补码的快捷方式</p><ol><li>正数补码与原码相同</li><li>负数符号位照抄，数值位对原码每位求反末位加1</li></ol></li></ol></li><li><p>反码表示法</p><ol><li><p>定义</p><p>整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>为真值 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">n</span></span></span></span>为整数的位数</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>反</mtext></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msup><mn>2</mn><mi>n</mi></msup><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>≥</mo><mi>x</mi><mo>&gt;</mo><mo>−</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">(</mo><mspace></mspace><mspace width="0.6666666666666666em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><msup><mn>2</mn><mrow><mi>n</mi><mo>+</mo><mn>1</mn></mrow></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">[x]_反 = \left \{ \begin{array}{cl} 0,x &amp; 2^n &gt;x \geq 0 \\ (2^{n+1}-1)+x &amp; 0 \geq x &gt;-2^n (\mod 2^{n+1}-1) \end{array} \right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">反</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mopen">(</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>小数</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>反</mtext></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo stretchy="false">(</mo><mn>2</mn><mo>−</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>n</mi></mrow></msup><mo stretchy="false">)</mo><mo>+</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>≥</mo><mi>x</mi><mo>&gt;</mo><mo>−</mo><mn>1</mn><mo stretchy="false">(</mo><mspace></mspace><mspace width="0.6666666666666666em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>2</mn><mo>−</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>n</mi></mrow></msup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">[x]_反=\left \{ \begin{array}{cl} x &amp; 1&gt;x\geq0 \\ (2-2^{-n})+x &amp; 0\geq x&gt;-1(\mod 2-2^{-n})\end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">反</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mopen">(</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li></ol></li><li><p>移码表示法</p><p>补码表示很难直接判断其真值大小</p><ol><li><p>定义</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>移</mtext></msub><mo>=</mo><msup><mn>2</mn><mi>n</mi></msup><mo>+</mo><mi>x</mi><mtext> </mtext><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mo>−</mo><msup><mn>2</mn><mi>n</mi></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[x]_移=2^n+x \space (2^n&gt;x\geq -2^n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">移</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.747722em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mspace"> </span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p></li></ol></li></ol><h2 id="数的定点表示和浮点表示"><a class="markdownIt-Anchor" href="#数的定点表示和浮点表示"></a> 数的定点表示和浮点表示</h2><h3 id="一-顶点表示"><a class="markdownIt-Anchor" href="#一-顶点表示"></a> 一、顶点表示</h3><p>按照小数点位置可分为小数定点机和整数定点机</p><h3 id="二-浮点表示"><a class="markdownIt-Anchor" href="#二-浮点表示"></a> 二、浮点表示</h3><ul><li><p>为什么要引入浮点数表示</p><ul><li>编程困难，程序员要调节小数点的位置</li><li>数的表示范围小，为了能表示两个大小相差很大的数据，需要很长的机器字长</li></ul><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo>=</mo><mi>S</mi><mo>×</mo><msup><mi>r</mi><mi>j</mi></msup></mrow><annotation encoding="application/x-tex">N=S \times r^j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> 尾数    <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span> 阶码    <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>位数的基值</p><p>计算机中<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>取2、4、6、8等</p></li></ul><ol><li>浮点数的表示形式</li><li>浮点数的表示范围</li><li>浮点数的规格化形式</li><li>浮点数的规格</li></ol><h3 id="三-举例"><a class="markdownIt-Anchor" href="#三-举例"></a> 三、举例</h3><h3 id="四-ieee754标准"><a class="markdownIt-Anchor" href="#四-ieee754标准"></a> 四、IEEE754标准</h3><h2 id="定点运算"><a class="markdownIt-Anchor" href="#定点运算"></a> 定点运算</h2><h3 id="一-移位运算"><a class="markdownIt-Anchor" href="#一-移位运算"></a> 一、移位运算</h3><ol><li><p>移位的意义：左移绝对值扩大，右移绝对值缩小</p></li><li><p>算术移位规则</p><p>符号位不变</p><ol><li><p>正数 无论什么编码方式都添零</p></li><li><p>负数</p><ol><li>原码左移右移都添零</li><li>反码左移右移都添1</li><li>补码左移添0，右移添1</li></ol></li></ol></li><li><p>算术移位的硬件实现</p></li><li><p>算数移位和逻辑移位的区别</p><ol><li>算术移位是有符号数的移位</li><li>逻辑移位是无符号数的移位</li></ol></li></ol><h3 id="二-加减法运算"><a class="markdownIt-Anchor" href="#二-加减法运算"></a> 二、加减法运算</h3><ol><li><p>补码加减运算公式</p><ol><li>加法</li></ol></li><li><p>举例</p></li><li><p>溢出判断</p><ol><li><p>一位符号位判断溢出</p><p>参加操作的两个数符号相同，其结果的符号与原操作数的符号不同，即为溢出</p><p>硬件实现：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>最高有效位的进位</mtext><mo>⊕</mo><mtext>符号位的进位</mtext><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">最高有效位的进位 \oplus 符号位的进位=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord cjk_fallback">最</span><span class="mord cjk_fallback">高</span><span class="mord cjk_fallback">有</span><span class="mord cjk_fallback">效</span><span class="mord cjk_fallback">位</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">进</span><span class="mord cjk_fallback">位</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⊕</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">符</span><span class="mord cjk_fallback">号</span><span class="mord cjk_fallback">位</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">进</span><span class="mord cjk_fallback">位</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 则溢出</p></li><li><p>两位符号位判断溢出</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>x</mi></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>4</mn><mo>+</mo><mi>x</mi></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo>&gt;</mo><mi>x</mi><mo>≥</mo><mo>−</mo><mn>1</mn><mo stretchy="false">(</mo><mspace></mspace><mspace width="0.6666666666666666em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>4</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">[x]_补 = \left\{\begin{array}{cl} x &amp; 1 &gt; x \geq 0 \\ 4 + x &amp; 0&gt;x \geq -1 (\mod 4) \end{array} \right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathnormal">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mopen">(</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><mo>+</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mtext>（</mtext><mspace></mspace><mspace width="0.6666666666666666em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>4</mn><mtext>）</mtext></mrow><annotation encoding="application/x-tex">[x]_补 + [y]_补 = [x+y]_补 （\mod 4）</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">（</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mord cjk_fallback">）</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>x</mi><mo>−</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>=</mo><mo stretchy="false">[</mo><mi>x</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo>+</mo><mo stretchy="false">[</mo><mo>−</mo><mi>y</mi><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mo stretchy="false">(</mo><mspace></mspace><mspace width="0.6666666666666666em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">[x-y]_补 = [x]_补+[-y]_补 (\mod 4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:0.6666666666666666em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span></p><p>结果的双符号位相同 未溢出</p><p>结果的双符号位不同 溢出</p><p>符号位的最高位代表了真正的符号</p></li></ol></li><li><p>补码加减法的硬件配置</p></li></ol><h3 id="三-乘法运算"><a class="markdownIt-Anchor" href="#三-乘法运算"></a> 三、乘法运算</h3><ol><li>分析笔算乘法</li><li>笔算乘法改进</li><li>改进后的笔算乘法过程（竖式）</li><li>原码乘法<ol><li>原码一位乘运算规则</li><li>举例</li><li>原码一位乘法的硬件配置</li></ol></li></ol><h3 id="四-除法运算"><a class="markdownIt-Anchor" href="#四-除法运算"></a> 四、除法运算</h3><ol><li>分析笔算除法</li><li>笔算除法和机器除法的比较</li><li>原码除法<ol><li>恢复余数法</li><li>不恢复余数法（加减交替法）</li></ol></li></ol><h2 id="浮点数四则运算"><a class="markdownIt-Anchor" href="#浮点数四则运算"></a> 浮点数四则运算</h2><h3 id="一-浮点加减运算"><a class="markdownIt-Anchor" href="#一-浮点加减运算"></a> 一、浮点加减运算</h3><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><msub><mi>S</mi><mi>x</mi></msub><mo>×</mo><msup><mn>2</mn><msub><mi>j</mi><mi>x</mi></msub></msup></mrow><annotation encoding="application/x-tex">x=S_x\times 2^{j_x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.824664em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.824664em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.05724em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>    <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><msub><mi>S</mi><mi>x</mi></msub><mo>×</mo><msup><mn>2</mn><msub><mi>j</mi><mi>y</mi></msub></msup></mrow><annotation encoding="application/x-tex">y = S_x \times 2^{j_y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8246640000000001em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8246640000000001em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285716em;"><span style="top:-2.357em;margin-left:-0.05724em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2818857142857143em;"><span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ol><li><p>对阶</p><ol><li><p>求阶差</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>j</mi><mo>=</mo><msub><mi>j</mi><mi>x</mi></msub><mo>−</mo><msub><mi>j</mi><mi>y</mi></msub><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>=</mo><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>j</mi><mi>x</mi></msub><mo>=</mo><msub><mi>j</mi><mi>y</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>已对齐</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>&gt;</mo><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>j</mi><mi>x</mi></msub><mo>&gt;</mo><msub><mi>j</mi><mi>y</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>y</mi><mtext>向</mtext><mi>x</mi><mtext>看齐</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo>&lt;</mo><mn>0</mn></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>j</mi><mi>x</mi></msub><mo>&lt;</mo><msub><mi>j</mi><mi>y</mi></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>x</mi><mtext>向</mtext><mi>y</mi><mtext>看齐</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">\Delta j = j_x -j_y\left\{\begin{array}{ccl} =0 &amp; j_x = j_y &amp; 已对齐 \\ &gt;0 &amp; j_x&gt;j_y &amp; y向x看齐 \\ &lt;0 &amp; j_x &lt;j_y &amp; x向y看齐\end{array} \right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord">Δ</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:3.60004em;vertical-align:-1.55002em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05002em;"><span style="top:-2.49999em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.20499em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-3.15001em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.00501em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎪</span></span></span><span style="top:-4.30002em;"><span class="pstrut" style="height:3.15em;"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55002em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05724em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">已</span><span class="mord cjk_fallback">对</span><span class="mord cjk_fallback">齐</span></span></span><span style="top:-3.0099999999999993em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord cjk_fallback">向</span><span class="mord mathnormal">x</span><span class="mord cjk_fallback">看</span><span class="mord cjk_fallback">齐</span></span></span><span style="top:-1.8099999999999994em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mord cjk_fallback">向</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord cjk_fallback">看</span><span class="mord cjk_fallback">齐</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.5500000000000007em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li><li><p>对阶原则：小阶向大阶看齐</p></li></ol></li><li><p>尾数计算</p></li><li><p>规格化</p><ol><li><p>规格化数的定义</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">r = 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>     <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>≤</mo><mi mathvariant="normal">∣</mi><mi>x</mi><mi mathvariant="normal">∣</mi><mo>&lt;</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">\frac{1}{2}\leq|x|&lt;1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathnormal">x</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span></p></li><li><p>规格化数的判断</p><ol><li><p>原码 不论正负，第一位为1</p></li><li><p>补码 符号位和第一位不同</p><p>特例 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mtext>不是规格化数</mtext></mrow><annotation encoding="application/x-tex">[-\frac{1}{2}]_补不是规格化数</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">不</span><span class="mord cjk_fallback">是</span><span class="mord cjk_fallback">规</span><span class="mord cjk_fallback">格</span><span class="mord cjk_fallback">化</span><span class="mord cjk_fallback">数</span></span></span></span>   <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mo>−</mo><mn>1</mn><msub><mo stretchy="false">]</mo><mtext>补</mtext></msub><mtext>是规格化数</mtext></mrow><annotation encoding="application/x-tex">[-1]_补是规格化数</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">补</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord cjk_fallback">是</span><span class="mord cjk_fallback">规</span><span class="mord cjk_fallback">格</span><span class="mord cjk_fallback">化</span><span class="mord cjk_fallback">数</span></span></span></span></p></li></ol></li><li><p>左规 太小时</p></li><li><p>右规 溢出时</p></li></ol></li><li><p>舍入 位数的低位精度处理（出现在对阶和右规阶段）</p><ol><li>0舍1入法</li><li>恒置“1”法</li></ol></li><li><p>溢出判断</p></li></ol><h2 id="算术逻辑单元"><a class="markdownIt-Anchor" href="#算术逻辑单元"></a> 算术逻辑单元</h2><h3 id="一-alu电路"><a class="markdownIt-Anchor" href="#一-alu电路"></a> 一、ALU电路</h3><h3 id="二-快速进位链"><a class="markdownIt-Anchor" href="#二-快速进位链"></a> 二、快速进位链</h3><ol><li>并行加法器</li><li>串行进位链<ol><li>进位链：传送进位的电路</li><li>串行进位链：进位串行传送</li></ol></li><li>并行进位链：n位加法器的进位同时产生（先行进位，跳跃进位）<ol><li>单重分组跳跃进位链：先并行再串行</li><li>双重分组跳跃进位链：</li></ol></li></ol><h1 id="第七章-指令系统"><a class="markdownIt-Anchor" href="#第七章-指令系统"></a> 第七章 指令系统</h1><h2 id="机器指令"><a class="markdownIt-Anchor" href="#机器指令"></a> 机器指令</h2><h3 id="一-指令的一般格式"><a class="markdownIt-Anchor" href="#一-指令的一般格式"></a> 一、指令的一般格式</h3><p>操作码字段+地址码字段</p><ol><li><p>操作码 反映机器做什么操作</p><ol><li><p>长度固定 用于指令比较长的情况，RISC</p></li><li><p>长度可变：X86系统</p></li><li><p>扩展操作码技术</p><p>操作码的位数随地址数的减少而增加</p><p>涉及到 哈夫曼编码</p></li></ol></li><li><p>地址码</p><ol><li><p>四地址</p><p>OP+A1+A2+A3+A4</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>A</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi>O</mi><mi>P</mi><mo stretchy="false">(</mo><msub><mi>A</mi><mn>2</mn></msub><mo stretchy="false">)</mo><mo>→</mo><msub><mi>A</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">(A_1)OP(A_2)\rightarrow A_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">A_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 存放到<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">A_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p></li><li><p>三地址（PC代替<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>4</mn></msub></mrow><annotation encoding="application/x-tex">A_4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>） <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>P</mi><mo>+</mo><msub><mi>A</mi><mn>1</mn></msub><mo>+</mo><msub><mi>A</mi><mn>2</mn></msub><mo>+</mo><msub><mi>A</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">OP + A_1 + A_2 + A_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p></li><li><p>二地址 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mi>P</mi><mo>+</mo><msub><mi>A</mi><mn>1</mn></msub><mo>+</mo><msub><mi>A</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">OP+A_1+A_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></p></li><li><p>一地址（ACC代替<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">A_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> ）</p></li><li><p>零地址</p></li></ol></li></ol><h3 id="二-指令字长"><a class="markdownIt-Anchor" href="#二-指令字长"></a> 二、指令字长</h3><p>指令字长决定于：操作码的长度    操作数地址的长度    操作数地址的个数</p><ol><li>指令字长固定  指令字长 = 存储字长</li><li>指令字长可变  变化一般时字节的倍数</li></ol><h2 id="操作数类型和操作种类"><a class="markdownIt-Anchor" href="#操作数类型和操作种类"></a> 操作数类型和操作种类</h2><h3 id="一-操作数类型"><a class="markdownIt-Anchor" href="#一-操作数类型"></a> 一、操作数类型</h3><p>地址    无符号整数</p><p>数字    定点数、浮点数、十进制数</p><p>字符     ASCII</p><p>逻辑数    逻辑运算</p><h3 id="二-数据再存储器中的存放方式"><a class="markdownIt-Anchor" href="#二-数据再存储器中的存放方式"></a> 二、数据再存储器中的存放方式</h3><p>大端方式和小端方式</p><ul><li>字节编址，数据在存储器中的存放方式（存储字长64位，机器字长32位）<ul><li>从任意位置开始存储 不浪费存储资源  读写困难</li><li>从一个存储字的起始位置开始访问  读写容易 浪费空间</li><li>边界对准方式——从地址的整数倍位置开始访问</li></ul></li></ul><h3 id="三-操作类型"><a class="markdownIt-Anchor" href="#三-操作类型"></a> 三、操作类型</h3><ol><li>数据传送<ol><li>源     寄存器</li><li>目的</li><li>例如</li></ol></li><li>算术逻辑操作</li><li>移位操作</li><li>转移<ol><li>无条件转移</li><li>条件转移</li><li>调用和返回</li><li>陷阱（TRAP）与陷阱指令（意外事故的中断）<ol><li>一般不提供给用户直接使用，出现事故时，由CPU自动产生执行</li><li>设置供用户使用的陷阱指令</li></ol></li><li>输入输出</li></ol></li></ol><h2 id="寻址方式"><a class="markdownIt-Anchor" href="#寻址方式"></a> 寻址方式</h2><h3 id="一-指令寻址"><a class="markdownIt-Anchor" href="#一-指令寻址"></a> 一、指令寻址</h3><p>顺序 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>P</mi><mi>C</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>⟶</mo><mi>P</mi><mi>C</mi></mrow><annotation encoding="application/x-tex">(PC) + 1 \longrightarrow PC</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.65544em;vertical-align:-0.011em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">⟶</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></p><p>跳跃  由转移指令指出下一条指令的地址</p><h3 id="二-数据寻址"><a class="markdownIt-Anchor" href="#二-数据寻址"></a> 二、数据寻址</h3><p>| 操作码 | 寻址特征 | 形式地址A |</p><p>形式地址   指令字中的地址</p><p>有效地址 操作数的真是地址</p><p>约定 指令字长=存储字长=机器字长</p><ol><li><p>立即寻址形式地址A就是操作数</p><ol><li>指令执行阶段不访存</li></ol></li><li><p>直接寻址</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">EA = A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> 有效地址由形式地址直接给出</p><ol><li>执行阶段访问一次存储器</li><li>A的位数决定了该指令操作数的寻址范围</li><li>操作数的地址不易直接修改（必须修改A）</li></ol></li><li><p>隐含寻址操作数地址隐含在  操作码中</p></li><li><p>间接寻址</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">EA = (A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span>  有效地址由形式地址简介提供</p><ol><li>执行阶段指令阶段2次访存</li><li>可扩大寻址范围</li><li>便于编制程序</li></ol></li><li><p>寄存器（直接）寻址</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><msub><mi>R</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">EA = R_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> 有效地址即为寄存器编号</p><ol><li>执行阶段不访存，只访问寄存器，执行速度快</li><li>寄存器个数有限，可缩短指令字长</li></ol></li><li><p>寄存器间接寻址</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>R</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">EA = (R_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31166399999999994em;"><span style="top:-2.5500000000000003em;margin-left:-0.00773em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>  有效地址在寄存器中</p><ol><li>有效地址在寄存器中，操作数在存储器中，执行阶段</li><li>便于编制循环程序</li></ol></li><li><p>基址寻址</p><ol><li><p>采用专用寄存器作机制寄存器</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>B</mi><mi>R</mi><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">EA = (BR) + A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>   BR为基址寄存器</p><ol><li>可扩大寻址范围</li><li>有利于多道程序</li><li>BR内容由操作系统或管理程序确定</li><li>在程序得执行过程中BR内容保持不变，形式地址A可变</li></ol></li><li><p>采用通用寄存器作基址寄存器</p><ol><li>由用户指定哪个寄存器作为基址寄存器</li><li>基址寄存器得内容由操作系统确定</li><li>在程序执行过程中R<sub>0</sub>内容不变，形式地址A可变</li></ol></li></ol></li><li><p>变址寻址</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>I</mi><mi>X</mi><mo stretchy="false">)</mo><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">EA = (IX) + A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>  IX为变址寄存器（专用）</p><p>通用寄存器也可以作为变址寄存器</p><ol><li>可扩大寻址范围</li><li>IX的内容由用户给定</li><li>在程序的执行过程中IX内容可变，形式地址A不变</li><li>便于处理数组问题</li></ol></li><li><p>相对寻址</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mi>A</mi><mo>=</mo><mo stretchy="false">(</mo><mi>P</mi><mi>C</mi><mtext>）</mtext><mo>+</mo><mi>A</mi></mrow><annotation encoding="application/x-tex">EA = (PC） + A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord cjk_fallback">）</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span>  A是相对与当前指令的位移量（可正可负，补码）</p><ol><li>A的位数决定操作数的寻址范围</li><li>程序浮动</li><li>广泛用于转移指令</li></ol></li><li><p>堆栈寻址</p><ol><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>堆栈的特点</mtext><mrow><mo fence="true">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>硬堆栈</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>多个寄存器</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>软堆栈</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>指定的存储空间</mtext></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">堆栈的特点\left \{ \begin{array}{cc} 硬堆栈 &amp; 多个寄存器 \\ 软堆栈 &amp; 指定的存储空间 \end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="mord cjk_fallback">堆</span><span class="mord cjk_fallback">栈</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">特</span><span class="mord cjk_fallback">点</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">{</span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">硬</span><span class="mord cjk_fallback">堆</span><span class="mord cjk_fallback">栈</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">软</span><span class="mord cjk_fallback">堆</span><span class="mord cjk_fallback">栈</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">多</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">寄</span><span class="mord cjk_fallback">存</span><span class="mord cjk_fallback">器</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">指</span><span class="mord cjk_fallback">定</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">存</span><span class="mord cjk_fallback">储</span><span class="mord cjk_fallback">空</span><span class="mord cjk_fallback">间</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>先进后出（一个出入口） 栈顶地址由SP指出</p><p>进栈<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>S</mi><mi>P</mi><mo stretchy="false">)</mo><mo>−</mo><mn>1</mn><mo>→</mo><mi>S</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">(SP) - 1 \rightarrow SP</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span>         出栈<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>S</mi><mi>P</mi><mo stretchy="false">)</mo><mo>+</mo><mn>1</mn><mo>→</mo><mi>S</mi><mi>P</mi></mrow><annotation encoding="application/x-tex">(SP)+1 \rightarrow SP</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span></span></span></span></p></li></ol></li></ol><h2 id="指令格式举例"><a class="markdownIt-Anchor" href="#指令格式举例"></a> 指令格式举例</h2><h3 id="一-设计指令格式时应考虑的各种因素"><a class="markdownIt-Anchor" href="#一-设计指令格式时应考虑的各种因素"></a> 一、设计指令格式时应考虑的各种因素</h3><ol><li><p>指令系统的兼容性</p></li><li><p>其他因素</p><ol><li><p>操作类型 包括指令个数及操作的难易程度</p></li><li><p>数据类型 确定哪些数据类型可参与操作</p></li><li><p>指令格式 指令字长是否固定</p><p>​                  操作码位数、是否采用扩展操作码技术</p><p>​                  地址码位数、地址个数、寻址方式类型</p></li><li><p>寻址方式 指令寻址、操作数寻址</p></li><li><p>寄存器个数 寄存器的多少直接影响指令的执行时间</p></li></ol></li><li><p>计算机举例</p><ol><li><p>IBM 360</p><ol><li>RR格式 二地址R-R</li><li>RX格式 二地址R-M 基址加变址寻址</li><li>RS格式 三地址R-M 基址寻址</li><li>SI格式 立即数-M 基址寻址</li><li>SS格式 二地址 M-M基址寻址</li></ol></li><li><p>Intel 8086</p><ol><li><p>指令字长 1~6个字节</p></li><li><p>地址格式</p><p>零地址</p><p>一地址</p><p>两地址</p></li></ol></li></ol></li></ol><h2 id="risc技术"><a class="markdownIt-Anchor" href="#risc技术"></a> RISC技术</h2><h3 id="一-risc的产生和发展"><a class="markdownIt-Anchor" href="#一-risc的产生和发展"></a> 一、RISC的产生和发展</h3><p>RISC(Reduced Instruction Set Computer)</p><p>CISC(Complex Instruction Set Computer)</p><p><strong>80–20规律</strong></p><p>典型程序中80%的语句仅仅使用处理机中20%的指令。</p><h3 id="二-risc的主要特征"><a class="markdownIt-Anchor" href="#二-risc的主要特征"></a> 二、RISC的主要特征</h3><ul><li>选用使用频度较高的一些<strong>简单指令</strong>，复杂指令的功能由简单指令来组合</li><li>指令<strong>长度固定、指令格式种类少、寻址方式少</strong></li><li>只有<strong>LOAD/STORE</strong>指令访存</li><li>CPU中有<strong>多个</strong>通用<strong>寄存器</strong></li><li>采用<strong>流水技术 一个时钟周期</strong>内完成一条指令</li><li>采用组合逻辑实现控制器</li></ul><h3 id="三-cisc的主要特征"><a class="markdownIt-Anchor" href="#三-cisc的主要特征"></a> 三、CISC的主要特征</h3><ul><li>系统指令复杂庞大，各种指令使用频度相差大</li><li>指令长度不固定、指令格式种类多、寻址方式多</li><li>访存指令不受限制</li><li>CPU中设有专用寄存器</li><li>大多数指令需要多个时钟周期来完成</li><li>采用微程序控制器</li></ul><h3 id="四-risc和cisc的比较"><a class="markdownIt-Anchor" href="#四-risc和cisc的比较"></a> 四、RISC和CISC的比较</h3><ol><li>RISC更能充分利用VLSI芯片的面积</li><li>RISC更能提高计算机运算速度<ol><li>指令数、指令格式、寻址方式少</li><li>通用寄存器多，采用组合逻辑</li><li>便于实现指令流水</li></ol></li><li>RISC便于设计，可降低成本，提高可靠性</li><li>RISC不易实现指令系统兼容</li></ol><h1 id="第八章-cpu的机构和功能"><a class="markdownIt-Anchor" href="#第八章-cpu的机构和功能"></a> 第八章 CPU的机构和功能</h1><h2 id="cpu的结构"><a class="markdownIt-Anchor" href="#cpu的结构"></a> CPU的结构</h2><h3 id="一-cpu的功能"><a class="markdownIt-Anchor" href="#一-cpu的功能"></a> 一、CPU的功能</h3><ol><li>控制器的功能<ol><li>取指令</li><li>分析指令</li><li>执行指令，发出各种操作命令</li><li>控制程序输入及结果的输出</li><li>总线管理</li><li>处理异常情况和特殊请求</li></ol></li><li>运算器的功能<ol><li>实现算术运算和逻辑运算</li></ol></li></ol><h3 id="二-cpu结构框图"><a class="markdownIt-Anchor" href="#二-cpu结构框图"></a> 二、CPU结构框图</h3><ol><li>CPU与系统总线</li></ol><h3 id="三-cpu的寄存器"><a class="markdownIt-Anchor" href="#三-cpu的寄存器"></a> 三、CPU的寄存器</h3><ol><li><p>用户可见寄存器</p><ol><li>通用寄存器   存放操作数   可作某种寻址方式所需的专用寄存器</li><li>数据寄存器    存放操作数（满足各种数据类型）</li><li>地址寄存器 存放地址，其位数应满足最大的地址范围 用于特殊的寻址方式 段基值 栈指针</li><li>条件码寄存器   存放条件码，可做程序分支的依据 如 正、负、零、溢出、进位、等</li></ol></li><li><p>控制和状态寄存器</p><ol><li><p>控制寄存器</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mi>C</mi><mo>→</mo><mi>M</mi><mi>A</mi><mi>R</mi><mo>→</mo><mi>M</mi><mo>→</mo><mi>M</mi><mi>D</mi><mi>R</mi><mo>→</mo><mi>I</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">PC \rightarrow MAR \rightarrow M \rightarrow MDR \rightarrow IR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span></p><p>控制CPU操作，其中MAR、MDR、IR用户不可见，PC用户可见</p></li><li><p>状态寄存器</p><p>状态寄存器   存放条件码</p><p>PSW寄存器   存放程序状态字</p></li></ol></li></ol><h3 id="四-控制单元cu和中断系统"><a class="markdownIt-Anchor" href="#四-控制单元cu和中断系统"></a> 四、控制单元CU和中断系统</h3><ol><li><p>CU 产生全部指令的位操作命令序列</p><p>设计方法：</p><ol><li>组合逻辑设计   硬连线逻辑</li><li>微程序设计 存储逻辑</li></ol></li><li><p>中断系统</p></li></ol><h3 id="五-alu"><a class="markdownIt-Anchor" href="#五-alu"></a> 五、ALU</h3><h2 id="指令周期"><a class="markdownIt-Anchor" href="#指令周期"></a> 指令周期</h2><h3 id="一-指令周期的基本概念"><a class="markdownIt-Anchor" href="#一-指令周期的基本概念"></a> 一、指令周期的基本概念</h3><ol><li><p>指令周期：取出并执行一条指令所需的全部时间</p><p>完成一条指令：</p><ol><li>取指令 分析指令       取指周期</li><li>执行指令                    执行周期</li></ol></li><li><p>每条指令的指令周期不同</p></li><li><p>具有间接寻址的指令周期</p><p>指令周期：取指周期 间址周期 执行周期</p></li><li><p>带有中断指令的指令周期</p><p>指令周期：取指周期 间址周期 执行周期 中断周期</p></li><li><p>指令周期流程</p></li><li><p>CPU工作周期的标志</p><p>CPU访存有四种性质</p><ol><li>取指令   取指周期</li><li>取地址   间址周期</li><li>存取操作数或结果   执行周期</li><li>存程序断点   中断周期</li></ol></li></ol><h3 id="二-指令周期的数据流"><a class="markdownIt-Anchor" href="#二-指令周期的数据流"></a> 二、指令周期的数据流</h3><ol><li><p>取指周期的数据流</p></li><li><p>间址周期的数据流</p></li><li><p>执行周期数据流</p><p>不同指令的执行周期数据流不同</p></li><li><p>中断周期数据流</p></li></ol><h2 id="指令流水"><a class="markdownIt-Anchor" href="#指令流水"></a> 指令流水</h2><h3 id="一-如何提高机器速度"><a class="markdownIt-Anchor" href="#一-如何提高机器速度"></a> 一、如何提高机器速度</h3><ol><li><p>提高访存速度：高速片 cache 多体并行</p></li><li><p>提高I/O和主机之间的传送速度：</p><p>中断 DMA 通道 I/O处理机 多总线</p></li><li><p>给提高运算速度： 高速芯片 改进算法 快速进位链</p></li><li><p>提高整机处理能力：</p><p>高速器件  <strong>改进系统结构，开发系统的并行性</strong></p></li></ol><h3 id="二-系统的并行性"><a class="markdownIt-Anchor" href="#二-系统的并行性"></a> 二、系统的并行性</h3><ol><li><p>并行的概念</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>并行</mtext><mo stretchy="false">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>并发</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>两个或两个以上事件在同一时间段发生</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>同时</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>两个或两个以上事件在同一时刻发生（时间上相互重叠）</mtext></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">并行 \{ \begin{array}{cc} 并发 &amp; 两个或两个以上事件在同一时间段发生 \\ 同时 &amp; 两个或两个以上事件在同一时刻发生（时间上相互重叠） \end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4000000000000004em;vertical-align:-0.9500000000000004em;"></span><span class="mord cjk_fallback">并</span><span class="mord cjk_fallback">行</span><span class="mopen">{</span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">并</span><span class="mord cjk_fallback">发</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">同</span><span class="mord cjk_fallback">时</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">两</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">或</span><span class="mord cjk_fallback">两</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">以</span><span class="mord cjk_fallback">上</span><span class="mord cjk_fallback">事</span><span class="mord cjk_fallback">件</span><span class="mord cjk_fallback">在</span><span class="mord cjk_fallback">同</span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">间</span><span class="mord cjk_fallback">段</span><span class="mord cjk_fallback">发</span><span class="mord cjk_fallback">生</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">两</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">或</span><span class="mord cjk_fallback">两</span><span class="mord cjk_fallback">个</span><span class="mord cjk_fallback">以</span><span class="mord cjk_fallback">上</span><span class="mord cjk_fallback">事</span><span class="mord cjk_fallback">件</span><span class="mord cjk_fallback">在</span><span class="mord cjk_fallback">同</span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">刻</span><span class="mord cjk_fallback">发</span><span class="mord cjk_fallback">生</span><span class="mord cjk_fallback">（</span><span class="mord cjk_fallback">时</span><span class="mord cjk_fallback">间</span><span class="mord cjk_fallback">上</span><span class="mord cjk_fallback">相</span><span class="mord cjk_fallback">互</span><span class="mord cjk_fallback">重</span><span class="mord cjk_fallback">叠</span><span class="mord cjk_fallback">）</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></p></li><li><p>并行性的等级</p><ol><li>过程级（程序、进程）  粗粒度      软件实现</li><li>指令级（指令之间）（指令内部）  细粒度   硬件实现</li></ol></li></ol><h3 id="三-指令流水原理"><a class="markdownIt-Anchor" href="#三-指令流水原理"></a> 三、指令流水原理</h3><ol><li><p>指令的串行执行</p><p>取指令和执行指令交替进行</p></li><li><p>指令的二级流水</p><p>取指令和执行阶段时间上完全重叠</p><p>指令周期减半 速度提高1倍</p></li><li><p>影响指令流水效率加倍的因素</p><ol><li><p>执行时间&gt; 取指时间</p><p>取指令部件----&gt;指令部件缓冲区-----&gt;执行指令部件</p></li><li><p>条件转移指令对指令流水的影响</p><p>必须等上条指令执行结束，才能确定下条指令的地址，造成时间损失</p></li></ol></li><li><p>指令的六级流水</p></li></ol><h3 id="四-影响指令流水线性能的因素"><a class="markdownIt-Anchor" href="#四-影响指令流水线性能的因素"></a> 四、影响指令流水线性能的因素</h3><ol><li><p>结构相关 不同指令争用同一功能部件产生资源冲突</p><p>解决方法</p><ul><li>停顿</li><li>指令存储器和数据存储器分开</li><li>指令预取技术（适用于访存周期短的情况）</li></ul></li><li><p>数据相关</p><p>不同指令因重叠操作，可能改变操作数的读/写 访问顺序</p><ul><li>写后读相关（RAW）</li><li>读后写相关（WAR）</li><li>写后写相关（WAW）</li></ul><p>解决办法</p><ul><li>后推法</li><li>采用旁路技术</li></ul></li><li><p>控制相关</p><p>由转移指令引起</p></li></ol><h3 id="五-流水线性能"><a class="markdownIt-Anchor" href="#五-流水线性能"></a> 五、流水线性能</h3><ol><li><p>吞吐率</p><p>单位时间内流水线所完成指令或输出结果的数量，设m段的流水线各段时间为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\Delta t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span></span></p><ul><li><p>最大吞吐率</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mrow><mi>p</mi><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">T_{pmax}=\frac{1}{\Delta t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">x</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.190108em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li><li><p>实际吞吐率</p><p>连续处理n条指令的吞吐率为<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mfrac><mi>n</mi><mrow><mi>m</mi><mo>⋅</mo><mi mathvariant="normal">Δ</mi><mi>t</mi><mo>+</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>⋅</mo><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">T = \frac{n}{m\cdot \Delta t + (n-1) \cdot \Delta t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.215392em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">⋅</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mbin mtight">⋅</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li></ul></li><li><p>加速比<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>p</mi></msub></mrow><annotation encoding="application/x-tex">S_p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></p><p>m段的流水线的速度与等功能的非流水线的速度之比</p><p>设流水线各段时间为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\Delta t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span></span></p><p>完成n条指令在m段流水线上共需 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi><mo>=</mo><mi>m</mi><mo>⋅</mo><mi mathvariant="normal">Δ</mi><mi>t</mi><mo>+</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>⋅</mo><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">T = m\cdot \Delta t + (n-1)\cdot \Delta t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord">Δ</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span></span></p><p>完成n条指令在等效的非流水线上共需 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup><mo>=</mo><mi>n</mi><mi>m</mi><mo>⋅</mo><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">T&#x27; = nm\cdot \Delta t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mord mathnormal">t</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∴</mo><msub><mi>S</mi><mi>p</mi></msub><mo>=</mo><mfrac><mi>T</mi><msup><mi>T</mi><mo mathvariant="normal" lspace="0em" rspace="0em">′</mo></msup></mfrac><mo>=</mo><mfrac><mrow><mi>n</mi><mi>m</mi><mo>⋅</mo><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow><mrow><mi>m</mi><mo>⋅</mo><mi mathvariant="normal">Δ</mi><mi>t</mi><mo>+</mo><mo stretchy="false">(</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>⋅</mo><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>n</mi><mi>m</mi></mrow><mrow><mi>m</mi><mo>+</mo><mi>n</mi><mo>−</mo><mn>1</mn></mrow></mfrac></mrow><annotation encoding="application/x-tex">\therefore S_p = \frac{T}{T&#x27;} = \frac{nm \cdot \Delta t}{m \cdot \Delta t + (n-1) \cdot \Delta t} = \frac{nm}{m+n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69224em;vertical-align:0em;"></span><span class="mrel amsrm">∴</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6828285714285715em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.392331em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">⋅</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">+</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mbin mtight">⋅</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">m</span><span class="mbin mtight">⋅</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.0987230000000001em;vertical-align:-0.403331em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.403331em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li><li><p>效率</p><p>流水线中各功能段的利用率</p><p>由于流水线由建立时间和排空时间，因此各功能段不可能一直处于工作时间</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>效率</mtext><mo>=</mo><mfrac><mtext>流水线隔断处于工作时间的时空区</mtext><mtext>流水线中各段总的时空区</mtext></mfrac><mo>=</mo><mfrac><mrow><mi>m</mi><mi>n</mi><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow><mrow><mi>m</mi><mo stretchy="false">(</mo><mi>m</mi><mo>+</mo><mi>n</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mi mathvariant="normal">Δ</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">效率 = \frac{流水线隔断处于工作时间的时空区}{流水线中各段总的时空区} = \frac{mn \Delta t}{m(m+n-1)\Delta t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord cjk_fallback">效</span><span class="mord cjk_fallback">率</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">流</span><span class="mord cjk_fallback mtight">水</span><span class="mord cjk_fallback mtight">线</span><span class="mord cjk_fallback mtight">中</span><span class="mord cjk_fallback mtight">各</span><span class="mord cjk_fallback mtight">段</span><span class="mord cjk_fallback mtight">总</span><span class="mord cjk_fallback mtight">的</span><span class="mord cjk_fallback mtight">时</span><span class="mord cjk_fallback mtight">空</span><span class="mord cjk_fallback mtight">区</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">流</span><span class="mord cjk_fallback mtight">水</span><span class="mord cjk_fallback mtight">线</span><span class="mord cjk_fallback mtight">隔</span><span class="mord cjk_fallback mtight">断</span><span class="mord cjk_fallback mtight">处</span><span class="mord cjk_fallback mtight">于</span><span class="mord cjk_fallback mtight">工</span><span class="mord cjk_fallback mtight">作</span><span class="mord cjk_fallback mtight">时</span><span class="mord cjk_fallback mtight">间</span><span class="mord cjk_fallback mtight">的</span><span class="mord cjk_fallback mtight">时</span><span class="mord cjk_fallback mtight">空</span><span class="mord cjk_fallback mtight">区</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.392331em;vertical-align:-0.52em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">m</span><span class="mbin mtight">+</span><span class="mord mathnormal mtight">n</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">n</span><span class="mord mtight">Δ</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.52em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p></li></ol><h3 id="六-流水线的多发技术"><a class="markdownIt-Anchor" href="#六-流水线的多发技术"></a> 六、流水线的多发技术</h3><ol><li>超标量技术<ol><li>每个时钟周期内可并发多条独立指令，配置多功能部件</li><li>不能调整指令的执行顺序，通过编译优化技术，把可并行执行的指令搭配起来</li></ol></li><li>超流水线技术<ol><li>在一个时钟周期内再分段（3段），在一个时钟周期内一个功能部件使用多次（3次）</li><li>不能调整指令的执行顺序，靠编译程序解决优化问题</li></ol></li><li>超长指令字技术<ol><li>由编译程序挖掘出指令间潜在的并行性，将多条能并行操作的指令组合成一条具有多个操作ma字段的超长指令字（可达几百位）</li><li>采用多个处理部件</li></ol></li></ol><h3 id="七-流水线结构"><a class="markdownIt-Anchor" href="#七-流水线结构"></a> 七、流水线结构</h3><ol><li>指令流水线结构</li><li>运算流水线</li></ol><h2 id="中断系统"><a class="markdownIt-Anchor" href="#中断系统"></a> 中断系统</h2><h3 id="一-概述-6"><a class="markdownIt-Anchor" href="#一-概述-6"></a> 一、概述</h3><ol><li><p>引起中断的各种因素</p><ol><li>人为设置的中断 转管指令</li><li>程序性事故 溢出、操作码不能识别、除数为零</li><li>硬件故障</li><li>I/O设备</li><li>外部事件 用键盘中断现行程序</li></ol></li><li><p>中断系统需解决的问题</p><ol><li><p>各中断源如何向CPU提出请求？</p></li><li><p>各中断源同时提出请求怎么办？</p></li><li><p>CPU什么条件、什么时间、以什么方式响应中断</p></li><li><p>如何保护现场？</p></li><li><p>如何寻找入口地址？</p></li><li><p>如何恢复现场，如何返回？</p></li><li><p>处理中断的过程中又出现心得中断怎么办？</p><p><strong>软件+硬件</strong></p></li></ol></li></ol><h3 id="二-中断请求标记和中断判优逻辑"><a class="markdownIt-Anchor" href="#二-中断请求标记和中断判优逻辑"></a> 二、中断请求标记和中断判优逻辑</h3><ol><li><p>中断请求标记 INTR</p><p>一个请求源 一个INTR中断请求标记触发器</p><p>多个INTR组成中断请求标记寄存器（既可以分散再各个中断源的接口电路中，也可以集中再CPU的中断系统内）</p></li><li><p>中断判优逻辑</p><ol><li>硬件实现（排队器）<ol><li>分散再各个中断源的接口电路中</li><li>集中再CPU内</li></ol></li><li>软件实现（程序查询）</li></ol></li></ol><h3 id="三-中断服务程序入口地址的寻找"><a class="markdownIt-Anchor" href="#三-中断服务程序入口地址的寻找"></a> 三、中断服务程序入口地址的寻找</h3><ol><li>硬件向量法</li><li>软件查询法</li></ol><h3 id="四-中断响应"><a class="markdownIt-Anchor" href="#四-中断响应"></a> 四、中断响应</h3><ol><li><p>响应中断的条件</p><p>允许中断触发器 EINT =  1</p></li><li><p>响应中断的时间</p></li><li><p>中断隐指令</p><ol><li>保护程序断点 断点存于待定地址（0号地址）内</li><li>寻找服务程序入口地址<ol><li>向量地址 —&gt;PC</li><li>中断识别程序入口地址 M—&gt;PC</li></ol></li><li>硬件关中断</li></ol></li></ol><h3 id="五-保护现场和恢复现场"><a class="markdownIt-Anchor" href="#五-保护现场和恢复现场"></a> 五、保护现场和恢复现场</h3><ol><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>保护现场</mtext><mo stretchy="false">{</mo><mtable rowspacing="0.15999999999999992em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>断点</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>中断隐指令完成</mtext></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>寄存器内容</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mtext>中断服务程序完场</mtext></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">保护现场\{\begin{array}{cc}断点 &amp; 中断隐指令完成 \\ 寄存器内容 &amp; 中断服务程序完场\end{array}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.4000000000000004em;vertical-align:-0.9500000000000004em;"></span><span class="mord cjk_fallback">保</span><span class="mord cjk_fallback">护</span><span class="mord cjk_fallback">现</span><span class="mord cjk_fallback">场</span><span class="mopen">{</span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">断</span><span class="mord cjk_fallback">点</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">寄</span><span class="mord cjk_fallback">存</span><span class="mord cjk_fallback">器</span><span class="mord cjk_fallback">内</span><span class="mord cjk_fallback">容</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">中</span><span class="mord cjk_fallback">断</span><span class="mord cjk_fallback">隐</span><span class="mord cjk_fallback">指</span><span class="mord cjk_fallback">令</span><span class="mord cjk_fallback">完</span><span class="mord cjk_fallback">成</span></span></span><span style="top:-2.4099999999999997em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord cjk_fallback">中</span><span class="mord cjk_fallback">断</span><span class="mord cjk_fallback">服</span><span class="mord cjk_fallback">务</span><span class="mord cjk_fallback">程</span><span class="mord cjk_fallback">序</span><span class="mord cjk_fallback">完</span><span class="mord cjk_fallback">场</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9500000000000004em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span></span></span></span></span></span></li><li>恢复现场 中断服务程序完成</li></ol><h3 id="六-多重中断"><a class="markdownIt-Anchor" href="#六-多重中断"></a> 六、多重中断</h3><ol><li><p>多重中断的概念</p></li><li><p>实现多重中断的条件</p><ol><li>提前设置开中断指令</li><li>优先级别高的中断源有权中断优先级别低的中断源</li></ol></li><li><p>屏蔽技术</p><ol><li><p>屏蔽触发器 MASK</p></li><li><p>屏蔽字</p></li><li><p>屏蔽技术可改变处理优先等级</p><p>响应优先级 不可改变</p><p>处理优先级 可改变</p></li><li><p>屏蔽技术的其他作用</p><p>可以认为地屏蔽某个中断源的请求</p></li><li><p>新屏蔽字的设置</p></li></ol></li></ol><img src="/2021/03/03/8d4b7ae1/image-20200505222300304.png" class="" title="中断处理流程图"><ol start="4"><li>多重中断的断点保护<ol><li>断点进栈 中断隐指令完成</li><li>断点存入“0”地址 中断隐指令完成</li><li>程序断点存入“0”地址的断点保护</li></ol></li></ol><h1 id="第九章-控制单元的功能"><a class="markdownIt-Anchor" href="#第九章-控制单元的功能"></a> 第九章 控制单元的功能</h1><h2 id="微操作命令的分析"><a class="markdownIt-Anchor" href="#微操作命令的分析"></a> 微操作命令的分析</h2><p>完成一条指令分为4个工作周期</p><ul><li>取指周期</li><li>间址周期</li><li>执行周期</li><li>中断周期</li></ul><h3 id="一-取指周期"><a class="markdownIt-Anchor" href="#一-取指周期"></a> 一、取指周期</h3><h3 id="二-间址周期"><a class="markdownIt-Anchor" href="#二-间址周期"></a> 二、间址周期</h3><h3 id="三-执行周期"><a class="markdownIt-Anchor" href="#三-执行周期"></a> 三、执行周期</h3><ol><li><p>非访存指令</p><ol><li>CLA 清A</li><li>COM 取反</li><li>SHR 算术右移</li><li>CSL 循环左移</li><li>STP 停机指令</li></ol></li><li><p>访存指令</p><ol><li>加法指令 ADD X</li><li>存数指令 STA X</li><li>取数指令 LDA X</li></ol></li><li><p>转移指令</p><ol><li>无条件转 JMP X</li><li>条件转移 BAN X</li></ol></li><li><p>三类指令的指令周期</p><p>非访存指令周期  取指周期----&gt;执行周期</p><p>直接访存指令周期 取指周期----&gt;执行周期</p><p>间接访存指令周期 取指周期----&gt;间址周期----&gt;执行周期</p><p>转移指令周期  取指周期----&gt;执行周期</p><p>间接转移指令周期 取指周期----&gt;间址周期----&gt;执行周期</p></li></ol><h3 id="四-中断周期"><a class="markdownIt-Anchor" href="#四-中断周期"></a> 四、中断周期</h3><p>程序断点存入“0”地址     程序断点进栈</p><h2 id="控制单元的功能"><a class="markdownIt-Anchor" href="#控制单元的功能"></a> 控制单元的功能</h2><h3 id="一-控制单元的外特性"><a class="markdownIt-Anchor" href="#一-控制单元的外特性"></a> 一、控制单元的外特性</h3><ol><li><p>输入信号</p><ol><li><p>时钟</p><p>CU 受时钟控制</p><p>一个时钟脉冲，发一个操作命令或一组需要同时执行的操作命令</p></li><li><p>指令寄存器  OP（IR）----&gt;CU</p><p>控制信号与操作码有关</p></li><li><p>标志</p><p>CU 受标志控制</p></li><li><p>外来信号</p><p>INTR 中断请求</p><p>HRQ 总线请求</p></li></ol></li><li><p>输出信号</p><ol><li>CPU内的各种 控制信号</li><li>送至控制总线的信号</li></ol></li></ol><h3 id="二-控制信号举例"><a class="markdownIt-Anchor" href="#二-控制信号举例"></a> 二、控制信号举例</h3><ol><li>不采用CPU内部总线的方式</li><li>采用CPU内部总线方式</li></ol><h3 id="三-多级时序系统"><a class="markdownIt-Anchor" href="#三-多级时序系统"></a> 三、多级时序系统</h3><ol><li><p>机器周期</p><ol><li><p>机器周期的概念：所有指令执行过程中的一个基准时间</p></li><li><p>确定机器周期需考虑的因素</p><p>每条指令的执行步骤</p><p>每一步骤所需时间</p></li><li><p>基准时间的确定</p><ul><li>以完成最复杂指令功能的时间为准</li><li>以访问一次存储器的时间为基准</li></ul><p>若指令字长=存储子长 取指周期=机器周期</p></li></ol></li><li><p>时钟周期（节拍、状态）</p><p>一个机器周期内可完成若干个微操作</p><p>每个位操作需一定的时间</p><p>将一个机器周期分成若干个时间相等的时间段（节拍状态、时钟周期）</p><p>时钟周期是控制计算机操作的最小单位时间</p><p>用时钟周期控制产生一个或几个微操作命令</p></li><li><p>多级时序系统</p><p>机器周期、节拍（状态）组成多级时序系统</p><p>一个指令周期包含若干个机器周期</p><p>一个机器周期包含若干个时钟周期</p></li><li><p>机器速度与机器主频的关系</p><p>机器的主频<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span> 越快机器的速度也越快</p><p>在机器周期所含时钟周期数相同的前提下，两机平均指令执行速度之比等于两机主频之比<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi>M</mi><mi>I</mi><mi>P</mi><msub><mi>S</mi><mn>1</mn></msub></mrow><mrow><mi>M</mi><mi>I</mi><mi>P</mi><msub><mi>S</mi><mn>2</mn></msub></mrow></mfrac><mo>=</mo><mfrac><msub><mi>f</mi><mn>1</mn></msub><msub><mi>f</mi><mn>2</mn></msub></mfrac></mrow><annotation encoding="application/x-tex">\frac{MIPS_1}{MIPS_2} = \frac{f_1}{f_2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3335309999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8884309999999999em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.05764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4101em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">M</span><span class="mord mathnormal mtight" style="margin-right:0.07847em;">I</span><span class="mord mathnormal mtight" style="margin-right:0.13889em;">P</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.05764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.4133239999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.31731428571428577em;"><span style="top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></p><p>机器速度不仅与主频有关，还与机器周期中所含的时间周期数（主频的倒数）以及指令周期中所含的机器周期数有关</p></li></ol><h3 id="四-控制方式"><a class="markdownIt-Anchor" href="#四-控制方式"></a> 四、控制方式</h3><p>产生不同微操作命令序列所用的时序控制方式</p><ol><li><p>同步控制</p><p>任一微操作均由统一基准时标的时序信号控制</p><ol><li><p>采用定长的机器周期</p><p>以最长的微操作序列和最复杂的微操作为标准</p></li><li><p>采用不定长的机器周期</p><p>机器周期内节拍数不等</p></li><li><p>采用中央控制和局部控制相结合的方法</p></li></ol></li><li><p>异步控制</p><p>无基准时标信号</p><p>无固定的周期节拍和严格的时钟同步</p><p>采用应答方式</p></li><li><p>联合控制方式</p><p>同步和异步相结合</p></li><li><p>人工控制方式</p><ol><li>Reset</li><li>连续和单条指令执行转换开关</li><li>符合停机开关</li></ol></li></ol><h1 id="第十章-控制单元的设计"><a class="markdownIt-Anchor" href="#第十章-控制单元的设计"></a> 第十章 控制单元的设计</h1><h2 id="组合逻辑设计"><a class="markdownIt-Anchor" href="#组合逻辑设计"></a> 组合逻辑设计</h2><h3 id="一-组合逻辑控制单元框图"><a class="markdownIt-Anchor" href="#一-组合逻辑控制单元框图"></a> 一、组合逻辑控制单元框图</h3><ol><li>CU外特性</li><li>节拍信号</li></ol><h3 id="二-微操作的节拍安排"><a class="markdownIt-Anchor" href="#二-微操作的节拍安排"></a> 二、微操作的节拍安排</h3><p>采用同步控制方式</p><p>一个机器周期内由3个节拍（时钟周期）</p><ol><li><p>安排微操作时序的原则</p><p>原则一 微操作的先后顺序不得随意更改</p><p>原则二 被控对象不同的微操作，尽量安排在一个节拍内完成</p><p>原则三 占用时间较短的微操作，尽量安排在一个节拍内完成，并允许有先后顺序</p></li><li><p>取指周期的微操作的节拍安排</p></li><li><p>间址周期微操作的节拍安排</p></li><li><p>执行周期微操作的节拍安排</p></li><li><p>中断周期微操作的节拍安排</p></li></ol><h3 id="三-组合逻辑设计步骤"><a class="markdownIt-Anchor" href="#三-组合逻辑设计步骤"></a> 三、组合逻辑设计步骤</h3><ol><li>列出操作时间表</li><li>写出微操作命令的最简表达式</li><li>画出逻辑图</li></ol><p>特点</p><ul><li>思路清晰，简单明了</li><li>庞杂，调试困难，修改困难</li><li>速度快（RISC）</li></ul><h2 id="微程序设计"><a class="markdownIt-Anchor" href="#微程序设计"></a> 微程序设计</h2><h3 id="一-微程序设计思想的产生"><a class="markdownIt-Anchor" href="#一-微程序设计思想的产生"></a> 一、微程序设计思想的产生</h3><p>1951年英国剑桥大学教授 Wikes</p><p>一条机器指令对应一个微程序    保存在ROM当中（存储逻辑）</p><h3 id="二-微程序控制单元框图及工作原理"><a class="markdownIt-Anchor" href="#二-微程序控制单元框图及工作原理"></a> 二、微程序控制单元框图及工作原理</h3><ol><li><p>机器指令对应的微程序</p></li><li><p>微程序控制单元的基本框图</p></li></ol><img src="/2021/03/03/8d4b7ae1/image-20200507181113499.png" class="" title="微程序控制单元基本框图"><ol start="3"><li><p>工作原理</p><ol><li>取指阶段 执行取指微指令</li><li>执行阶段 执行LDA微程序</li></ol></li></ol><h3 id="三-微指令的编码方式控制方式"><a class="markdownIt-Anchor" href="#三-微指令的编码方式控制方式"></a> 三、微指令的编码方式（控制方式）</h3><ol><li><p>直接编码（直接控制）方式</p><p>在微指令的操作控制字段中，每一位代表一个微操作命令</p><p>速度最快</p></li><li><p>字段直接编码方式</p><p>将微指令的控制字段分成若干“段”</p><p>每段经译码后发出控制信号（显式编码）</p><p>缩短了微指令字长，增加译码时间</p></li><li><p>字段间接编码方式</p><p>隐式编码</p></li><li><p>混合编码</p></li><li><p>其他</p></li></ol><h3 id="四-微指令序列地址的形成"><a class="markdownIt-Anchor" href="#四-微指令序列地址的形成"></a> 四、微指令序列地址的形成</h3><ol><li><p>微指令的下地址字段指出</p></li><li><p>根据机器指令的操作码形成</p></li><li><p>增量计数器</p></li><li><p>分支转移</p></li><li><p>通过测试网络</p></li><li><p>由硬件产生微程序入口地址</p><p>第一条微指令地址 由专门硬件产生</p></li><li><p>后续微指令地址形成方式原理图</p></li></ol><h3 id="五-微指令格式"><a class="markdownIt-Anchor" href="#五-微指令格式"></a> 五、微指令格式</h3><ol><li><p>水平型微指令</p><p>一次能定义并执行多个并行操作</p></li><li><p>垂直型微指令</p></li><li><p>两种微指令格式的比较</p><ol><li>水平型微指令比垂直型微指令并行操作能力强，灵活性强</li><li>水平型微指令执行一条机器指令所要的微指令数目少，速度快</li><li>水平型微指令用较短的微程序结构换取较长的微指令结构</li><li>水平型微指令与机器指令差别大</li></ol></li></ol><h3 id="六-静态微程序设计和动态微程序设计"><a class="markdownIt-Anchor" href="#六-静态微程序设计和动态微程序设计"></a> 六、静态微程序设计和动态微程序设计</h3><p>静态 微程序无需改变，采用ROM</p><p>动态 通过改变微指令和微程序改变机器指令，有利于仿真，采用EPROM</p><h3 id="七-毫微程序设计"><a class="markdownIt-Anchor" href="#七-毫微程序设计"></a> 七、毫微程序设计</h3><ol><li><p>毫微程序设计的基本概念</p><p>微程序设计  用微程序解释机器指令</p><p>毫微程序设计 用 毫微程序解释指令</p><p>毫微指令和微指令的关系好比微指令与机器指令</p></li><li><p>毫微程序控制存储器的基本组成</p></li></ol><h3 id="八-串行微程序控制和并行微程序控制"><a class="markdownIt-Anchor" href="#八-串行微程序控制和并行微程序控制"></a> 八、串行微程序控制和并行微程序控制</h3><h3 id="九-微程序设计举例"><a class="markdownIt-Anchor" href="#九-微程序设计举例"></a> 九、微程序设计举例</h3><ol><li>写出队形机器指令的微操作及节拍安排、<ol><li>取指阶段微操作分析</li><li>取指阶段的微操作及节拍安排</li><li>执行阶段的微操作及节拍安排</li></ol></li><li>确定微指令格式<ol><li>微指令的编码方式</li><li>后续微指令的地址形成方式</li><li>微指令字长</li><li>微指令字长的确定</li><li>省去了CMAR的控制存储器</li><li>定义微指令操作控制字段每一位的微操作</li></ol></li><li>编写微指令码点</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;计算机组成原理&quot;&gt;&lt;a class=&quot;markdownIt-Anchor&quot; href=&quot;#计算机组成原理&quot;&gt;&lt;/a&gt; 计算机组成原理&lt;/h1&gt;
&lt;p&gt;这门课讲什么： 计算机 + 组成 + 原理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基本部件的结构和组织方式&lt;/li&gt;
&lt;li&gt;</summary>
      
    
    
    
    
    <category term="计算机组成原理" scheme="https://yucongxing.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"/>
    
  </entry>
  
</feed>
